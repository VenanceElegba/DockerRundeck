function showError(b){appendHtml($("editerror"),b);$("editerror").show()}function showRowSelected(b,d,g){g=document.getElementsByClassName(g,d);for(d=0;d<g.length;d++)$(g[d]).removeClassName("selected");b&&$(b)&&$(b).addClassName("selected")}function _editFormSelectProject(b){}function prepJobType(b){b.authorized?$("scriptAuthWarn").hide():$("scriptAuthWarn").show()}var jobEdittedHandler;function _onJobEdit(b){jobEdittedHandler=b}
function jobWasEdited(){"function"==typeof jobEdittedHandler&&jobEdittedHandler()}function _wfiedit(b,d,g){jobWasEdited();d={num:d,isErrorHandler:g?!0:!1,key:b};getCurSEID()&&(d.scheduledExecutionId=getCurSEID());jQuery("#wfli_"+b).load(_genUrl(appLinks.workflowEdit,d),function(d,c,g){_hideWFItemControls();d=jQuery("#wfli_"+b);d.find("input").each(function(b,c){"text"===c.type&&c.observe("keypress",noenter)});d.find("textarea.apply_ace").each(function(b,c){_addAceTextarea(c)})})}
function _wfiview(b,d,g){d={num:d,edit:!0,key:b,isErrorHandler:g?!0:!1};getCurSEID()&&(d.scheduledExecutionId=getCurSEID());jQuery("#wfli_"+b).load(_genUrl(appLinks.workflowRender,d),_showWFItemControls)}
function _wfisave(b,d,g,e){jobWasEdited();g=jQuery("#"+g+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:g,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(c,g,s){g=jQuery("#wfli_"+b);g.html(c);1>g.find("div.wfitemEditForm").size()&&(_showWFItemControls(),e&&_hideWFItemControlsAddEH(d))}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}var newitemElem;
function _wfiaddnew(b,d){jobWasEdited();var g={newitemtype:b,newitemnodestep:d?!0:!1};getCurSEID()&&(g.scheduledExecutionId=getCurSEID());clearHtml("wfnewitem");$("wfnewtypes").hide();_hideWFItemControls();var e=$("workflowContent").down("ol"),c=$$("#workflowContent ol > li").length;g.key=c;var r=new Element("li");1==c%2&&r.addClassName("alternate");r.setAttribute("data-wfitemnum",c);newitemElem=new Element("span");newitemElem.setAttribute("id","wfli_"+c);r.appendChild(newitemElem);var s=new Element("div");
s.setAttribute("id","wfivis_"+c);r.appendChild(s);s=new Element("ul");s.addClassName("wfhandleritem");s.style.display="none";s.setAttribute("data-wfitemnum",c);var E=new Element("li");E.setAttribute("id","wfli_eh_"+c);s.appendChild(E);r.appendChild(s);e.appendChild(r);jQuery(newitemElem).load(_genUrl(appLinks.workflowEdit,g),function(){$(newitemElem).select("input").each(function(b){"text"==b.type&&b.observe("keypress",noenter)});$(newitemElem).down("input[type=text]").focus();$(newitemElem).select("textarea.apply_ace").each(_addAceTextarea)})}
function _addAceTextarea(b){_setupAceTextareaEditor(b,function(){jobWasEdited()})}
function _wfisavenew(b){jobWasEdited();b=jQuery("#"+b+" :input").serialize();jQuery.ajax({type:"POST",url:_genUrl(appLinks.workflowSave),data:b,beforeSend:_ajaxSendTokens.curry("job_edit_tokens"),success:function(b,g,e){jQuery(newitemElem).html(b);b=$(newitemElem.parentNode);$(b).highlight();$("wfnewbutton").show();_showWFItemControls();$("workflowDropfinal").setAttribute("data-wfitemnum",parseInt(b.getAttribute("data-wfitemnum"))+1);newitemElem=null}}).success(_ajaxReceiveTokens.curry("job_edit_tokens"))}
function _wficancelnew(){var b=$("workflowContent").down("ol");$(b).removeChild($(newitemElem.parentNode));newitemElem=null;$("wfnewbutton").show();_showWFItemControls()}function _findParentAttr(b,d){for(var g=b.getAttribute(d);b&&!g&&!b.hasAttribute(d);)g=b.parentNode.getAttribute(d),b=b.parentNode;return g}function _evtNewStepChooseType(b){b=b.element();b=_findParentAttr(b,"data-step-type");_wfiaddnew(b,!1)}
function _evtNewNodeStepChooseType(b){b=b.element();b=_findParentAttr(b,"data-node-step-type");_wfiaddnew(b,!0)}function _evtNewStepCancel(b){$("wfnewtypes").hide();$("wfnewbutton").show()}function _hideWFItemControls(){$$("#workflowContent span.wfitemcontrols").each(Element.hide);$("wfundoredo").hide();$("wfnewbutton").hide()}function _updateEmptyMessage(){$("workflowContent").down("ol li")?$("wfempty").hide():$("wfempty").show()}
function _showWFItemControls(){$$("#workflowContent span.wfitemcontrols").each(Element.show);$("wfundoredo").show();$("wfnewbutton").show();_updateWFUndoRedo();_enableDragdrop();_updateEmptyMessage()}function _hideWFItemControlsAddEH(b){$("wfli_"+b).select(".wfitem_add_errorhandler").each(Element.hide)}function _evtNewEHChooseType(b){b=b.element();var d=_findParentAttr(b,"data-step-type");_wfiaddNewErrorHandler(b,d,null,!1)}
function _evtNewEHNodeStepType(b){b=b.element();var d=_findParentAttr(b,"data-node-step-type");_wfiaddNewErrorHandler(b,d,null,!0)}function _hideAddNewEHLinks(){$$("span.wfitem_add_errorhandler").each(Element.hide)}function _showAddNewEHLinks(){$$("span.wfitem_add_errorhandler").each(Element.show)}function _evtNewEHCancel(b){$(b.element()).up("ul.wfhandleritem",0).hide();_hideAddNewEH();_showWFItemControls()}
function _wficancelnewEH(b){$(b).up("ul.wfhandleritem",0).hide();b=$(b).up("ul.wfhandleritem li",0);clearHtml(b);_showWFItemControls()}function _hideAddNewEH(){var b=$("wfnewtypes"),d=$("wfnew_eh_types");d.hide();d.parentNode.removeChild(d);$(b).insert({after:d})}
function _wfishownewErrorHandler(b,d,g){d=$("wfnew_eh_types");b=$("wfli_eh_"+b);clearHtml(b);d.parentNode.removeChild(d);b.appendChild(d);var e=$("wf_strat_node_first").checked;g=!(g&&e);$(d).select(".step_section").each(g?Element.show:Element.hide);d.show();$(b.parentNode).show();_hideWFItemControls()}
function _wfiaddNewErrorHandler(b,d,g,e){null==g&&(b=$(b).up("ul.wfhandleritem",0))&&(g=b.getAttribute("data-wfitemnum"));b="eh_"+g;d={newitemtype:d,key:b,num:g,isErrorHandler:!0,newitemnodestep:e?!0:!1};getCurSEID()&&(d.scheduledExecutionId=getCurSEID());var c=jQuery("#wfli_"+b);_hideAddNewEH();c.load(_genUrl(appLinks.workflowEdit,d),function(){c.find("input").each(function(b,c){"text"==c.type&&c.observe("keypress",noenter)});c.find("textarea.apply_ace").each(function(){_addAceTextarea(this)})})}
function _doMoveItem(b,d){_ajaxWFAction(appLinks.workflowReorder,{fromnum:b,tonum:d,edit:!0})}function _doRemoveItem(b,d,g){var e={delnum:d,edit:!0,key:b,isErrorHandler:g};jQuery("#wfivis_"+b).fadeOut("fast",function(b){_ajaxWFAction(appLinks.workflowRemove,e)})}function _doUndoWFAction(){_ajaxWFAction(appLinks.workflowUndo,{edit:!0})}function _doRedoWFAction(){_ajaxWFAction(appLinks.workflowRedo,{edit:!0})}function _doResetWFAction(){_ajaxWFAction(appLinks.workflowRevert,{edit:!0})}
function _ajaxWFAction(b,d){jobWasEdited();getCurSEID()&&(d.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(b),data:d,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_workflow"),success:function(b,d,c){jQuery("#workflowContent").find("ol").html(b);newitemElem=null;$("wfnewbutton").show();_showWFItemControls()}})}function _updateWFUndoRedo(){var b={};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery("#wfundoredo").load(_genUrl(appLinks.workflowRenderUndo,b))}
function moveDragItem(b,d){var g=$(b).getAttribute("data-wfitemnum"),e=$(d).getAttribute("data-wfitemnum");e>g&&--e;_doMoveItem(g,e)}
function _enableDragdrop(){$$("#workflowContent ol>li").each(function(b){new Draggable(b,{revert:"failure",ghosting:!1,constraint:"vertical",handle:"dragHandle",scroll:window,onStart:function(b){$("workflowDropfinal").show()},onEnd:function(b){$("workflowDropfinal").hide()}})});$$("#workflowContent ol>li").each(function(b){Droppables.add(b,{hoverclass:"hoverActive",onDrop:moveDragItem});$(b).addClassName("ready")});$$("#workflowDropfinal").each(function(b){Droppables.add(b,{hoverclass:"hoverActive",
onDrop:moveDragItem});$(b).addClassName("ready")})}function _doRevertAction(b){return"workflow"==b?_doResetWFAction():"opts"==b?_doRevertOptsAction():null}function _doRedoAction(b){return"workflow"==b?_doRedoWFAction():"opts"==b?_doRedoOptsAction():null}function _doUndoAction(b){return"workflow"==b?_doUndoWFAction():"opts"==b?_doUndoOptsAction():null}var newoptli;
function _showOptControls(){$$("#optionsContent .opteditcontrols").each(Element.show);$("optnewbutton").show();_updateOptsUndoRedo();_showOptEmptyMessage();clearHtml("optsload")}function _showOptEmptyMessage(){$("optionsContent").down("ul li")?($("optempty").hide(),$("optheader").show()):($("optempty").show(),$("optheader").hide())}function _hideOptControls(){$$("#optionsContent .opteditcontrols").each(Element.hide);$("optnewbutton").hide();clearHtml("optsload")}
function _updateOptsUndoRedo(){var b={};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery("#optundoredo").load(_genUrl(appLinks.editOptsRenderUndo,b))}function _configureInputRestrictions(b){$(b).select("input").each(function(b){"text"==b.type&&b.observe("keypress",noenter)});$(b).select("input.restrictOptName").each(function(b){"text"==b.type&&b.observe("keypress",function(b){return controlkeycode(b)||onlychars("[a-zA-Z_0-9.\\t-]",b)})})}
function _isjobScheduled(){return"true"==jQuery("#scheduledTrue:checked").val()}function _optedit(b,d){jobWasEdited();var g={name:b};getCurSEID()&&(g.scheduledExecutionId=getCurSEID());g.jobWasScheduled=_isjobScheduled();$("optsload").loading();jQuery.ajax({type:"GET",url:_genUrl(appLinks.editOptsEdit,g),success:function(b,c,g){jQuery(d).html(b);_hideOptControls();_configureInputRestrictions(d)},failure:function(b,c,d){alert("error: "+c)}})}
function _optview(b,d){var g={name:b,edit:!0};getCurSEID()&&(g.scheduledExecutionId=getCurSEID());g.jobWasScheduled=_isjobScheduled();jQuery(d).load(_genUrl(appLinks.editOptsRender,g),_showOptControls)}
function _optsave(b,d,g){jobWasEdited();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:jQuery("#"+b+" :input").serialize(),beforeSend:_ajaxSendTokens.curry(d),success:function(b,c,d){jQuery(g).html(b);$(g).down("div.optEditForm")?(_configureInputRestrictions(g),_hideOptControls()):(_showOptControls(),$(g).highlight())}})}function _optaddnewIfNone(){var b=$$("#optionsContent ul li");b&&0!=b.length||_optaddnew()}
function _optaddnew(){jobWasEdited();var b={newoption:!0};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());_hideOptControls();var d=$("optionsContent").down("ul"),g=$$("#optionsContent ul li").length;newoptli=new Element("li");1==g%2&&newoptli.addClassName("alternate");newoptli.addClassName("optEntry");var e=new Element("div");e.setAttribute("id","optvis_"+g);newoptli.appendChild(e);d.appendChild(newoptli);$("optsload").loading();jQuery(e).load(_genUrl(appLinks.editOptsEdit,b),null,function(b,
d,g){"success"==d&&(_configureInputRestrictions(e),_hideOptControls());clearHtml("optsload")})}function _optcancelnew(){var b=$("optionsContent").down("ul");$(b).removeChild(newoptli);newoptli=null;_showOptControls()}
function _reloadOpts(){var b={newoption:!0,edit:!0};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());$("optionsContent").down("ul.options");$("optsload").loading();jQuery("#optionsContent").find("ul.options").load(_genUrl(appLinks.editOptsRenderAll,b),function(b,g,e){_showOptControls()})}
function _summarizeOpts(){var b={newoption:!0,edit:!0};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());$("optssummary");$("optsload").loading();jQuery("#optssummary").load(_genUrl(appLinks.editOptsRenderSummary,b),_showOptControls)}
function _optsavenew(b,d){jobWasEdited();var g=jQuery("#"+b+" :input").serialize();$("optsload").loading();jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsSave,{jobWasScheduled:_isjobScheduled()}),data:g,beforeSend:_ajaxSendTokens.curry(d),success:function(b,c,d){jQuery(newoptli).html(b);newoptli.down("div.optEditForm")?newoptli.down("div.optEditForm")&&(_configureInputRestrictions(newoptli),_hideOptControls()):($(newoptli).highlight(),newoptli=null,_showOptControls(),_reloadOpts())}})}
function _doRemoveOption(b,d,g){jobWasEdited();var e={name:b,edit:!0};getCurSEID()&&(e.scheduledExecutionId=getCurSEID());$("optsload").loading();jQuery($(d)).slideUp("fast",function(b){jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRemove),data:e,beforeSend:_ajaxSendTokens.curry(g),success:function(b,c,d){jQuery("#optionsContent").find("ul").html(b);_showOptControls()}})})}
function _doUndoOptsAction(){var b={edit:!0};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsUndo),data:b,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(b,g,e){jQuery("#optionsContent").find("ul").html(b);_showOptControls()}})}
function _doRedoOptsAction(){var b={edit:!0};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRedo),data:b,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(b,g,e){jQuery("#optionsContent").find("ul").html(b);_showOptControls()}})}
function _doRevertOptsAction(){var b={edit:!0};getCurSEID()&&(b.scheduledExecutionId=getCurSEID());jQuery.ajax({type:"POST",url:_genUrl(appLinks.editOptsRevert),data:b,beforeSend:_ajaxSendTokens.curry("reqtoken_undo_opts"),success:function(b,g,e){jQuery("#optionsContent").find("ul").html(b);_showOptControls()}})}var jobNameFieldId,jobGroupFieldId;
function jobChosen(b,d){jobWasEdited();jobNameFieldId&&jobGroupFieldId&&(jQuery("#"+jobNameFieldId).val(b),jQuery("#"+jobGroupFieldId).val(d));hideJobChooser()}
function loadJobChooser(b,d,g,e){jQuery(b).hasClass("active")?hideJobChooser():(jobNameFieldId=g,jobGroupFieldId=e,jQuery(b).button("loading").addClass("active"),jQuery.ajax({url:_genUrl(appLinks.menuJobsPicker,{jobsjscallback:"true",runAuthRequired:!0}),success:function(c,d,e){jQuery(b).popover({html:!0,container:"body",placement:"left",content:c,trigger:"manual"}).popover("show");jQuery(b).button("reset")},error:function(c,d,e){showError("Error performing request: menuJobsPicker: "+transport);jQuery(b).button("reset")}}))}
function hideJobChooser(){jQuery(".btn.act_choose_job").removeClass("active").button("reset").popover("hide")}function groupChosen(b){jobWasEdited();$("schedJobGroup").setValue(b);$("schedJobGroup").highlight();jQuery("#groupChooseBtn").popover("hide")}
function loadGroupChooser(){var b=jQuery("#groupChooseBtn");b.button("loading");jQuery("#schedEditFrameworkProject").val();"true"==b.data("grouptreeshown")?(b.popover("hide"),b.button("reset")):jQuery.get(appLinks.scheduledExecutionGroupTreeFragment+"?jscallback=true",function(b){var g=jQuery("#groupChooseBtn");g.popover({html:!0,container:"body",placement:"left",content:b,trigger:"manual"}).popover("show");g.button("reset")})}
jQuery(window).load(function(){jQuery("#groupChooseBtn").click(loadGroupChooser);jQuery("#groupChooseBtn").on("shown.bs.popover",function(b){jQuery("#groupChooseBtn").data("grouptreeshown","true")});jQuery("#groupChooseBtn").on("hide.bs.popover",function(b){jQuery("#groupChooseBtn").data("grouptreeshown","false")})});
(function(){(function(b){var d=this||(0,eval)("this"),g=d.document,e=d.navigator,c=d.jQuery,r=d.JSON;(function(b){"function"===typeof define&&define.amd?define(["exports","require"],b):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(module.exports||exports):b(d.ko={})})(function(s,E){function C(a,b){return null===a||typeof a in S?a===b:!1}function x(a,c){var n;return function(){n||(n=setTimeout(function(){n=b;a()},c))}}function I(a,b){var c;return function(){clearTimeout(c);
c=setTimeout(a,b)}}function O(b,c,n,d){a.d[b]={init:function(b,h,k,l,f){var p,J;a.w(function(){var l=a.a.c(h()),k=!n!==!l,e=!J;if(e||c||k!==p)e&&a.Z.oa()&&(J=a.a.la(a.e.childNodes(b),!0)),k?(e||a.e.T(b,a.a.la(J)),a.Ja(d?d(f,l):f,b)):a.e.ma(b),p=k},null,{q:b});return{controlsDescendantBindings:!0}}};a.h.ka[b]=!1;a.e.R[b]=!0}var a="undefined"!==typeof s?s:{};a.b=function(b,c){for(var n=b.split("."),d=a,e=0;e<n.length-1;e++)d=d[n[e]];d[n[n.length-1]]=c};a.D=function(a,b,c){a[b]=c};a.version="3.3.0";
a.b("version",a.version);a.a=function(){function h(a,f){for(var b in a)a.hasOwnProperty(b)&&f(b,a[b])}function D(a,f){if(f)for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b]);return a}function n(a,f){a.__proto__=f;return a}function t(f,b,h,c){var l=f[b].match(p)||[];a.a.o(h.match(p),function(f){a.a.ga(l,f,c)});f[b]=l.join(" ")}var v={__proto__:[]}instanceof Array,m={},k={};m[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");
h(m,function(a,f){if(f.length)for(var b=0,h=f.length;b<h;b++)k[f[b]]=a});var l={propertychange:!0},f=g&&function(){for(var a=3,f=g.createElement("div"),h=f.getElementsByTagName("i");f.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",h[0];);return 4<a?a:b}(),p=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,f){for(var b=0,h=a.length;b<h;b++)f(a[b],b)},m:function(a,f){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,
f);for(var b=0,h=a.length;b<h;b++)if(a[b]===f)return b;return-1},vb:function(a,f,b){for(var h=0,c=a.length;h<c;h++)if(f.call(b,a[h],h))return a[h];return null},ya:function(f,b){var h=a.a.m(f,b);0<h?f.splice(h,1):0===h&&f.shift()},wb:function(f){f=f||[];for(var b=[],h=0,c=f.length;h<c;h++)0>a.a.m(b,f[h])&&b.push(f[h]);return b},Ka:function(a,f){a=a||[];for(var b=[],h=0,c=a.length;h<c;h++)b.push(f(a[h],h));return b},xa:function(a,f){a=a||[];for(var b=[],h=0,c=a.length;h<c;h++)f(a[h],h)&&b.push(a[h]);
return b},ia:function(a,f){if(f instanceof Array)a.push.apply(a,f);else for(var b=0,h=f.length;b<h;b++)a.push(f[b]);return a},ga:function(f,b,h){var c=a.a.m(a.a.cb(f),b);0>c?h&&f.push(b):h||f.splice(c,1)},za:v,extend:D,Fa:n,Ga:v?n:D,A:h,pa:function(a,f){if(!a)return a;var b={},h;for(h in a)a.hasOwnProperty(h)&&(b[h]=f(a[h],h,a));return b},Ra:function(f){for(;f.firstChild;)a.removeNode(f.firstChild)},Jb:function(f){f=a.a.O(f);for(var b=(f[0]&&f[0].ownerDocument||g).createElement("div"),h=0,c=f.length;h<
c;h++)b.appendChild(a.S(f[h]));return b},la:function(f,b){for(var h=0,c=f.length,p=[];h<c;h++){var l=f[h].cloneNode(!0);p.push(b?a.S(l):l)}return p},T:function(f,b){a.a.Ra(f);if(b)for(var h=0,c=b.length;h<c;h++)f.appendChild(b[h])},Qb:function(f,b){var h=f.nodeType?[f]:f;if(0<h.length){for(var c=h[0],p=c.parentNode,l=0,n=b.length;l<n;l++)p.insertBefore(b[l],c);l=0;for(n=h.length;l<n;l++)a.removeNode(h[l])}},na:function(a,f){if(a.length){for(f=8===f.nodeType&&f.parentNode||f;a.length&&a[0].parentNode!==
f;)a.splice(0,1);if(1<a.length){var b=a[0],h=a[a.length-1];for(a.length=0;b!==h;)if(a.push(b),b=b.nextSibling,!b)return;a.push(h)}}return a},Sb:function(a,b){7>f?a.setAttribute("selected",b):a.selected=b},ib:function(a){return null===a||a===b?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(a,f){a=a||"";return f.length>a.length?!1:a.substring(0,f.length)===f},jc:function(a,f){if(a===f)return!0;if(11===a.nodeType)return!1;if(f.contains)return f.contains(3===a.nodeType?
a.parentNode:a);if(f.compareDocumentPosition)return 16==(f.compareDocumentPosition(a)&16);for(;a&&a!=f;)a=a.parentNode;return!!a},Qa:function(f){return a.a.jc(f,f.ownerDocument.documentElement)},tb:function(f){return!!a.a.vb(f,a.a.Qa)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(b,h,p){var n=f&&l[h];if(!n&&c)c(b).bind(h,p);else if(n||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var d=function(a){p.call(b,a)},k="on"+h;b.attachEvent(k,d);a.a.C.fa(b,
function(){b.detachEvent(k,d)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(h,p,!1)},qa:function(f,b){if(!f||!f.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var h;"input"===a.a.v(f)&&f.type&&"click"==b.toLowerCase()?(h=f.type,h="checkbox"==h||"radio"==h):h=!1;if(c&&!h)c(f).trigger(b);else if("function"==typeof g.createEvent)if("function"==typeof f.dispatchEvent)h=g.createEvent(k[b]||"HTMLEvents"),h.initEvent(b,
!0,!0,d,0,0,0,0,0,!1,!1,!1,!1,0,f),f.dispatchEvent(h);else throw Error("The supplied element doesn't support dispatchEvent");else if(h&&f.click)f.click();else if("undefined"!=typeof f.fireEvent)f.fireEvent("on"+b);else throw Error("Browser doesn't support triggering events");},c:function(f){return a.F(f)?f():f},cb:function(f){return a.F(f)?f.B():f},Ia:function(f,b,h){var c;b&&("object"===typeof f.classList?(c=f.classList[h?"add":"remove"],a.a.o(b.match(p),function(a){c.call(f.classList,a)})):"string"===
typeof f.className.baseVal?t(f.className,"baseVal",b,h):t(f,"className",b,h))},Ha:function(f,h){var c=a.a.c(h);if(null===c||c===b)c="";var p=a.e.firstChild(f);!p||3!=p.nodeType||a.e.nextSibling(p)?a.e.T(f,[f.ownerDocument.createTextNode(c)]):p.data=c;a.a.mc(f)},Rb:function(a,b){a.name=b;if(7>=f)try{a.mergeAttributes(g.createElement("<input name='"+a.name+"'/>"),!1)}catch(h){}},mc:function(a){9<=f&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},kc:function(a){if(f){var b=a.style.width;
a.style.width=0;a.style.width=b}},Bc:function(f,b){f=a.a.c(f);b=a.a.c(b);for(var h=[],c=f;c<=b;c++)h.push(c);return h},O:function(a){for(var f=[],b=0,h=a.length;b<h;b++)f.push(a[b]);return f},Hc:6===f,Ic:7===f,M:f,Db:function(f,b){for(var h=a.a.O(f.getElementsByTagName("input")).concat(a.a.O(f.getElementsByTagName("textarea"))),c="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},p=[],l=h.length-1;0<=l;l--)c(h[l])&&p.push(h[l]);return p},yc:function(f){return"string"==
typeof f&&(f=a.a.ib(f))?r&&r.parse?r.parse(f):(new Function("return "+f))():null},jb:function(f,b,h){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return r.stringify(a.a.c(f),b,h)},zc:function(f,b,c){c=c||{};var p=c.params||{},l=c.includeFields||this.Bb,n=f;if("object"==typeof f&&"form"===a.a.v(f))for(var n=f.action,
d=l.length-1;0<=d;d--)for(var k=a.a.Db(f,l[d]),D=k.length-1;0<=D;D--)p[k[D].name]=k[D].value;b=a.a.c(b);var e=g.createElement("form");e.style.display="none";e.action=n;e.method="post";for(var t in b)f=g.createElement("input"),f.type="hidden",f.name=t,f.value=a.a.jb(a.a.c(b[t])),e.appendChild(f);h(p,function(a,f){var b=g.createElement("input");b.type="hidden";b.name=a;b.value=f;e.appendChild(b)});g.body.appendChild(e);c.submitter?c.submitter(e):e.submit();setTimeout(function(){e.parentNode.removeChild(e)},
0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.o);a.b("utils.arrayFirst",a.a.vb);a.b("utils.arrayFilter",a.a.xa);a.b("utils.arrayGetDistinctValues",a.a.wb);a.b("utils.arrayIndexOf",a.a.m);a.b("utils.arrayMap",a.a.Ka);a.b("utils.arrayPushAll",a.a.ia);a.b("utils.arrayRemoveItem",a.a.ya);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Bb);a.b("utils.getFormFields",a.a.Db);a.b("utils.peekObservable",a.a.cb);a.b("utils.postJson",a.a.zc);a.b("utils.parseJson",a.a.yc);a.b("utils.registerEventHandler",
a.a.n);a.b("utils.stringifyJson",a.a.jb);a.b("utils.range",a.a.Bc);a.b("utils.toggleDomNodeCssClass",a.a.Ia);a.b("utils.triggerEvent",a.a.qa);a.b("utils.unwrapObservable",a.a.c);a.b("utils.objectForEach",a.a.A);a.b("utils.addOrRemoveItem",a.a.ga);a.b("utils.setTextContent",a.a.Ha);a.b("unwrap",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=
c.slice(0);d.push.apply(d,arguments);return b.apply(a,d)}});a.a.f=new function(){function a(h,e){var k=h[n];if(!k||"null"===k||!d[k]){if(!e)return b;k=h[n]="ko"+c++;d[k]={}}return d[k]}var c=0,n="__ko__"+(new Date).getTime(),d={};return{get:function(c,d){var n=a(c,!1);return n===b?b:n[d]},set:function(c,n,d){if(d!==b||a(c,!1)!==b)a(c,!0)[n]=d},clear:function(a){var b=a[n];return b?(delete d[b],a[n]=null,!0):!1},I:function(){return c++ +n}}};a.b("utils.domData",a.a.f);a.b("utils.domData.clear",a.a.f.clear);
a.a.C=new function(){function h(h,c){var l=a.a.f.get(h,n);l===b&&c&&(l=[],a.a.f.set(h,n,l));return l}function d(b){var c=h(b,!1);if(c)for(var c=c.slice(0),l=0;l<c.length;l++)c[l](b);a.a.f.clear(b);a.a.C.cleanExternalData(b);if(v[b.nodeType])for(c=b.firstChild;b=c;)c=b.nextSibling,8===b.nodeType&&d(b)}var n=a.a.f.I(),e={1:!0,8:!0,9:!0},v={1:!0,9:!0};return{fa:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");h(a,!0).push(b)},Pb:function(c,d){var l=h(c,!1);l&&(a.a.ya(l,
d),0==l.length&&a.a.f.set(c,n,b))},S:function(b){if(e[b.nodeType]&&(d(b),v[b.nodeType])){var h=[];a.a.ia(h,b.getElementsByTagName("*"));for(var c=0,f=h.length;c<f;c++)d(h[c])}return b},removeNode:function(b){a.S(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){c&&"function"==typeof c.cleanData&&c.cleanData([a])}}};a.S=a.a.C.S;a.removeNode=a.a.C.removeNode;a.b("cleanNode",a.S);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.C);a.b("utils.domNodeDisposal.addDisposeCallback",
a.a.C.fa);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.C.Pb);(function(){a.a.ca=function(b,e){var n;if(c)if(c.parseHTML)n=c.parseHTML(b,e)||[];else{if((n=c.clean([b],e))&&n[0]){for(var t=n[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{(t=e)||(t=g);n=t.parentWindow||t.defaultView||d;var v=a.a.ib(b).toLowerCase(),t=t.createElement("div"),v=v.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!v.indexOf("<tr")&&[2,"<table><tbody>",
"</tbody></table>"]||(!v.indexOf("<td")||!v.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],m="ignored<div>"+v[1]+b+v[2]+"</div>";for("function"==typeof n.innerShiv?t.appendChild(n.innerShiv(m)):t.innerHTML=m;v[0]--;)t=t.lastChild;n=a.a.O(t.lastChild.childNodes)}return n};a.a.gb=function(h,d){a.a.Ra(h);d=a.a.c(d);if(null!==d&&d!==b)if("string"!=typeof d&&(d=d.toString()),c)c(h).html(d);else for(var n=a.a.ca(d,h.ownerDocument),e=0;e<n.length;e++)h.appendChild(n[e])}})();
a.b("utils.parseHtmlFragment",a.a.ca);a.b("utils.setHtml",a.a.gb);a.H=function(){function h(b,c){if(b)if(8==b.nodeType){var d=a.H.Lb(b.nodeValue);null!=d&&c.push({ic:b,wc:d})}else if(1==b.nodeType)for(var d=0,e=b.childNodes,k=e.length;d<k;d++)h(e[d],c)}var c={};return{$a:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);
c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},Wb:function(a,h){var d=c[a];if(d===b)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,h||[]),!0}finally{delete c[a]}},Xb:function(b,c){var d=[];h(b,d);for(var e=0,k=d.length;e<k;e++){var l=d[e].ic,f=[l];c&&a.a.ia(f,c);a.H.Wb(d[e].wc,f);l.nodeValue="";l.parentNode&&l.parentNode.removeChild(l)}},Lb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.H);
a.b("memoization.memoize",a.H.$a);a.b("memoization.unmemoize",a.H.Wb);a.b("memoization.parseMemoText",a.H.Lb);a.b("memoization.unmemoizeDomNodeAndDescendants",a.H.Xb);a.Sa={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.j({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?I:x;a.Za(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer=
"always"==b?null:C}};var S={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Sa);a.Ub=function(b,c,d){this.da=b;this.La=c;this.hc=d;this.Gb=!1;a.D(this,"dispose",this.p)};a.Ub.prototype.p=function(){this.Gb=!0;this.hc()};a.Q=function(){a.a.Ga(this,a.Q.fn);this.G={};this.rb=1};var G={U:function(b,c,d){var e=this;d=d||"change";var g=new a.Ub(e,c?b.bind(c):b,function(){a.a.ya(e.G[d],g);e.ua&&e.ua(d)});e.ja&&e.ja(d);e.G[d]||(e.G[d]=[]);e.G[d].push(g);return g},notifySubscribers:function(b,
c){c=c||"change";"change"===c&&this.Yb();if(this.Ba(c))try{a.k.xb();for(var d=this.G[c].slice(0),e=0,g;g=d[e];++e)g.Gb||g.La(b)}finally{a.k.end()}},Aa:function(){return this.rb},pc:function(a){return this.Aa()!==a},Yb:function(){++this.rb},Za:function(b){var c=this,d=a.F(c),e,g,m;c.ta||(c.ta=c.notifySubscribers,c.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?c.pb(a):c.ta(a,b):c.qb(a)});var k=b(function(){d&&m===c&&(m=c());e=!1;c.Wa(g,m)&&c.ta(g=m)});c.qb=function(a){e=!0;m=a;
k()};c.pb=function(a){e||(g=a,c.ta(a,"beforeChange"))}},Ba:function(a){return this.G[a]&&this.G[a].length},nc:function(b){if(b)return this.G[b]&&this.G[b].length||0;var c=0;a.a.A(this.G,function(a,b){c+=b.length});return c},Wa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(b){var c=this;b&&a.a.A(b,function(b,h){var d=a.Sa[b];"function"==typeof d&&(c=d(c,h)||c)});return c}};a.D(G,"subscribe",G.U);a.D(G,"extend",G.extend);a.D(G,"getSubscriptionsCount",G.nc);
a.a.za&&a.a.Fa(G,Function.prototype);a.Q.fn=G;a.Hb=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.Q);a.b("isSubscribable",a.Hb);a.Z=a.k=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,g=0;return{xb:b,end:c,Ob:function(b){if(e){if(!a.Hb(b))throw Error("Only subscribable things can act as dependencies");e.La(b,b.ac||(b.ac=++g))}},u:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},oa:function(){if(e)return e.w.oa()},
Ca:function(){if(e)return e.Ca}}}();a.b("computedContext",a.Z);a.b("computedContext.getDependenciesCount",a.Z.oa);a.b("computedContext.isInitial",a.Z.Ca);a.b("computedContext.isSleeping",a.Z.Jc);a.b("ignoreDependencies",a.Gc=a.k.u);a.r=function(b){function c(){if(0<arguments.length)return c.Wa(d,arguments[0])&&(c.X(),d=arguments[0],c.W()),this;a.k.Ob(c);return d}var d=b;a.Q.call(c);a.a.Ga(c,a.r.fn);c.B=function(){return d};c.W=function(){c.notifySubscribers(d)};c.X=function(){c.notifySubscribers(d,
"beforeChange")};a.D(c,"peek",c.B);a.D(c,"valueHasMutated",c.W);a.D(c,"valueWillMutate",c.X);return c};a.r.fn={equalityComparer:C};var u=a.r.Ac="__ko_proto__";a.r.fn[u]=a.r;a.a.za&&a.a.Fa(a.r.fn,a.Q.fn);a.Ta=function(c,d){return null===c||c===b||c[u]===b?!1:c[u]===d?!0:a.Ta(c[u],d)};a.F=function(b){return a.Ta(b,a.r)};a.Da=function(b){return"function"==typeof b&&b[u]===a.r||"function"==typeof b&&b[u]===a.j&&b.qc?!0:!1};a.b("observable",a.r);a.b("isObservable",a.F);a.b("isWriteableObservable",a.Da);
a.b("isWritableObservable",a.Da);a.ba=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.r(b);a.a.Ga(b,a.ba.fn);return b.extend({trackArrayChanges:!0})};a.ba.fn={remove:function(b){for(var c=this.B(),d=[],e="function"!=typeof b||a.F(b)?function(a){return a===b}:b,g=0;g<c.length;g++){var m=c[g];e(m)&&(0===d.length&&this.X(),d.push(m),c.splice(g,1),g--)}d.length&&this.W();return d},
removeAll:function(c){if(c===b){var d=this.B(),e=d.slice(0);this.X();d.splice(0,d.length);this.W();return e}return c?this.remove(function(b){return 0<=a.a.m(c,b)}):[]},destroy:function(b){var c=this.B(),d="function"!=typeof b||a.F(b)?function(a){return a===b}:b;this.X();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.W()},destroyAll:function(c){return c===b?this.destroy(function(){return!0}):c?this.destroy(function(b){return 0<=a.a.m(c,b)}):[]},indexOf:function(b){var c=this();return a.a.m(c,
b)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.X(),this.B()[c]=b,this.W())}};a.a.o("pop push reverse shift sort splice unshift".split(" "),function(b){a.ba.fn[b]=function(){var a=this.B();this.X();this.yb(a,b,arguments);a=a[b].apply(a,arguments);this.W();return a}});a.a.o(["slice"],function(b){a.ba.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.a.za&&a.a.Fa(a.ba.fn,a.r.fn);a.b("observableArray",a.ba);a.Sa.trackArrayChanges=function(b){function c(){if(!d){d=!0;var f=
b.notifySubscribers;b.notifySubscribers=function(a,b){b&&"change"!==b||++m;return f.apply(this,arguments)};var p=[].concat(b.B()||[]);e=null;g=b.U(function(f){f=[].concat(f||[]);if(b.Ba("arrayChange")){var c;if(!e||1<m)e=a.a.Ma(p,f,{sparse:!0});c=e}p=f;e=null;m=0;c&&c.length&&b.notifySubscribers(c,"arrayChange")})}}if(!b.yb){var d=!1,e=null,g,m=0,k=b.ja,l=b.ua;b.ja=function(a){k&&k.call(b,a);"arrayChange"===a&&c()};b.ua=function(a){l&&l.call(b,a);"arrayChange"!==a||b.Ba("arrayChange")||(g.p(),d=!1)};
b.yb=function(b,c,h){function l(a,b,f){return k[k.length]={status:a,value:b,index:f}}if(d&&!m){var k=[],g=b.length,D=h.length,v=0;switch(c){case "push":v=g;case "unshift":for(c=0;c<D;c++)l("added",h[c],v+c);break;case "pop":v=g-1;case "shift":g&&l("deleted",b[v],v);break;case "splice":c=Math.min(Math.max(0,0>h[0]?g+h[0]:h[0]),g);for(var g=1===D?g:Math.min(c+(h[1]||0),g),D=c+D-2,v=Math.max(g,D),P=[],r=[],A=2;c<v;++c,++A)c<g&&r.push(l("deleted",b[c],c)),c<D&&P.push(l("added",h[A],c));a.a.Cb(r,P);break;
default:return}e=k}}}};a.w=a.j=function(c,d,e){function g(a,b,c){if(r&&b===f)throw Error("A 'pure' computed must not be called recursively");L[a]=c;c.sa=q++;c.ea=b.Aa()}function v(){var a,b;for(a in L)if(L.hasOwnProperty(a)&&(b=L[a],b.da.pc(b.ea)))return!0}function m(){!A&&L&&a.a.A(L,function(a,b){b.p&&b.p()});L=null;q=0;Y=!0;A=w=!1}function k(){var a=f.throttleEvaluation;a&&0<=a?(clearTimeout(B),B=setTimeout(function(){l(!0)},a)):f.nb?f.nb():l(!0)}function l(c){if(!U&&!Y){if(E&&E()){if(!y){x();return}}else y=
!1;U=!0;try{var h=L,e=q,p=r?b:!q;a.k.xb({La:function(a,b){Y||(e&&h[b]?(g(b,a,h[b]),delete h[b],--e):L[b]||g(b,a,A?{da:a}:a.U(k)))},w:f,Ca:p});L={};q=0;try{var l=d?P.call(d):P()}finally{a.k.end(),e&&!A&&a.a.A(h,function(a,b){b.p&&b.p()}),w=!1}f.Wa(F,l)&&(A||f.notifySubscribers(F,"beforeChange"),F=l,A?f.Yb():c&&f.notifySubscribers(F,void 0));p&&f.notifySubscribers(F,"awake")}finally{U=!1}q||x()}}function f(){if(0<arguments.length){if("function"===typeof z)z.apply(d,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}a.k.Ob(f);(w||A&&v())&&l();return F}function p(){(w&&!q||A&&v())&&l();return F}function J(){return w||0<q}var F,w=!0,U=!1,y=!1,Y=!1,P=c,r=!1,A=!1;P&&"object"==typeof P?(e=P,P=e.read):(e=e||{},P||(P=e.read));if("function"!=typeof P)throw Error("Pass a function that returns the value of the ko.computed");var z=e.write,s=e.disposeWhenNodeIsRemoved||e.q||null,u=e.disposeWhen||e.Pa,E=u,x=m,L={},q=0,B=null;d||(d=e.owner);a.Q.call(f);a.a.Ga(f,a.j.fn);f.B=p;f.oa=function(){return q};f.qc="function"===
typeof z;f.p=function(){x()};f.$=J;var C=f.Za;f.Za=function(a){C.call(f,a);f.nb=function(){f.pb(F);w=!0;f.qb(f)}};e.pure?(A=r=!0,f.ja=function(b){if(!Y&&A&&"change"==b){A=!1;if(w||v())L=null,q=0,w=!0,l();else{var c=[];a.a.A(L,function(a,b){c[b.sa]=a});a.a.o(c,function(a,b){var f=L[a],c=f.da.U(k);c.sa=b;c.ea=f.ea;L[a]=c})}Y||f.notifySubscribers(F,"awake")}},f.ua=function(c){Y||"change"!=c||f.Ba("change")||(a.a.A(L,function(a,b){b.p&&(L[a]={da:b.da,sa:b.sa,ea:b.ea},b.p())}),A=!0,f.notifySubscribers(b,
"asleep"))},f.bc=f.Aa,f.Aa=function(){A&&(w||v())&&l();return f.bc()}):e.deferEvaluation&&(f.ja=function(a){"change"!=a&&"beforeChange"!=a||p()});a.D(f,"peek",f.B);a.D(f,"dispose",f.p);a.D(f,"isActive",f.$);a.D(f,"getDependenciesCount",f.oa);s&&(y=!0,s.nodeType&&(E=function(){return!a.a.Qa(s)||u&&u()}));A||e.deferEvaluation||l();s&&J()&&s.nodeType&&(x=function(){a.a.C.Pb(s,x);m()},a.a.C.fa(s,x));return f};a.sc=function(b){return a.Ta(b,a.j)};G=a.r.Ac;a.j[G]=a.r;a.j.fn={equalityComparer:C};a.j.fn[G]=
a.j;a.a.za&&a.a.Fa(a.j.fn,a.Q.fn);a.b("dependentObservable",a.j);a.b("computed",a.j);a.b("isComputed",a.sc);a.Nb=function(b,c){if("function"===typeof b)return a.w(b,c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.w(b,c)};a.b("pureComputed",a.Nb);(function(){function c(a,g,m){m=m||new e;a=g(a);if("object"!=typeof a||null===a||a===b||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var k=a instanceof Array?[]:{};m.save(a,k);d(a,function(d){var f=g(a[d]);
switch(typeof f){case "boolean":case "number":case "string":case "function":k[d]=f;break;case "object":case "undefined":var e=m.get(f);k[d]=e!==b?e:c(f,g,m)}});return k}function d(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function e(){this.keys=[];this.mb=[]}a.Vb=function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return c(b,function(b){for(var c=0;a.F(b)&&10>c;c++)b=
b();return b})};a.toJSON=function(b,c,d){b=a.Vb(b);return a.a.jb(b,c,d)};e.prototype={save:function(b,c){var d=a.a.m(this.keys,b);0<=d?this.mb[d]=c:(this.keys.push(b),this.mb.push(c))},get:function(c){c=a.a.m(this.keys,c);return 0<=c?this.mb[c]:b}}})();a.b("toJS",a.Vb);a.b("toJSON",a.toJSON);(function(){a.i={s:function(c){switch(a.a.v(c)){case "option":return!0===c.__ko__hasDomDataOptionValue__?a.a.f.get(c,a.d.options.ab):7>=a.a.M?c.getAttributeNode("value")&&c.getAttributeNode("value").specified?
c.value:c.text:c.value;case "select":return 0<=c.selectedIndex?a.i.s(c.options[c.selectedIndex]):b;default:return c.value}},Y:function(c,d,e){switch(a.a.v(c)){case "option":switch(typeof d){case "string":a.a.f.set(c,a.d.options.ab,b);"__ko__hasDomDataOptionValue__"in c&&delete c.__ko__hasDomDataOptionValue__;c.value=d;break;default:a.a.f.set(c,a.d.options.ab,d),c.__ko__hasDomDataOptionValue__=!0,c.value="number"===typeof d?d:""}break;case "select":if(""===d||null===d)d=b;for(var g=-1,v=0,m=c.options.length,
k;v<m;++v)if(k=a.i.s(c.options[v]),k==d||""==k&&d===b){g=v;break}if(e||0<=g||d===b&&1<c.size)c.selectedIndex=g;break;default:if(null===d||d===b)d="";c.value=d}}}})();a.b("selectExtensions",a.i);a.b("selectExtensions.readValue",a.i.s);a.b("selectExtensions.writeValue",a.i.Y);a.h=function(){function b(c){c=a.a.ib(c);123===c.charCodeAt(0)&&(c=c.slice(1,-1));var f=[],d=c.match(e),h,k=[],n=0;if(d){d.push(",");for(var U=0,y;y=d[U];++U){var D=y.charCodeAt(0);if(44===D){if(0>=n){f.push(h&&k.length?{key:h,
value:k.join("")}:{unknown:h||k.join("")});h=n=0;k=[];continue}}else if(58===D){if(!n&&!h&&1===k.length){h=k.pop();continue}}else 47===D&&U&&1<y.length?(D=d[U-1].match(g))&&!m[D[0]]&&(c=c.substr(c.indexOf(y)+1),d=c.match(e),d.push(","),U=-1,y="/"):40===D||123===D||91===D?++n:41===D||125===D||93===D?--n:h||k.length||34!==D&&39!==D||(y=y.slice(1,-1));k.push(y)}}return f}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^/\\]|\\.)*\/w*|[^\s:,/][^,"'{}()/:[\]]*[^\s,"'{}()/:[\]]|[^\s]/g,
g=/[\])"'A-Za-z0-9_$]+$/,m={"in":1,"return":1,"typeof":1},k={};return{ka:[],V:k,bb:b,Ea:function(e,f){function p(b,f){var e;if(!m){var h=a.getBindingHandler(b);if(h&&h.preprocess&&!(f=h.preprocess(f,b,p)))return;if(h=k[b])e=f,0<=a.a.m(c,e)?e=!1:(h=e.match(d),e=null===h?!1:h[1]?"Object("+h[1]+")"+h[2]:e),h=e;h&&t.push("'"+b+"':function(_z){"+e+"=_z}")}v&&(f="function(){return "+f+" }");g.push("'"+b+"':"+f)}f=f||{};var g=[],t=[],v=f.valueAccessors,m=f.bindingParams,y="string"===typeof e?b(e):e;a.a.o(y,
function(a){p(a.key||a.unknown,a.value)});t.length&&p("_ko_property_writers","{"+t.join(",")+" }");return g.join(",")},vc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},ra:function(b,c,d,e,h){if(b&&a.F(b))!a.Da(b)||h&&b.B()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.h);a.b("expressionRewriting.bindingRewriteValidators",a.h.ka);a.b("expressionRewriting.parseObjectLiteral",a.h.bb);a.b("expressionRewriting.preProcessBindings",
a.h.Ea);a.b("expressionRewriting._twoWayBindings",a.h.V);a.b("jsonExpressionRewriting",a.h);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.h.Ea);(function(){function b(a){return 8==a.nodeType&&m.test(v?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&k.test(v?a.text:a.nodeValue)}function d(a,e){for(var l=a,k=1,g=[];l=l.nextSibling;){if(c(l)&&(k--,0===k))return g;g.push(l);b(l)&&k++}if(!e)throw Error("Cannot find closing comment tag to match: "+a.nodeValue);return null}function e(a,
b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var v=g&&"\x3c!--test--\x3e"===g.createComment("test").text,m=v?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,k=v?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};a.e={R:{},childNodes:function(a){return b(a)?d(a):a.childNodes},ma:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Ra(c)},T:function(c,d){if(b(c)){a.e.ma(c);for(var e=c.nextSibling,
l=0,k=d.length;l<k;l++)e.parentNode.insertBefore(d[l],e)}else a.a.T(c,d)},Mb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},Fb:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):c.appendChild(d):a.e.Mb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&
c(a.nextSibling)?null:a.nextSibling},oc:b,Fc:function(a){return(a=(v?a.text:a.nodeValue).match(m))?a[1]:null},Kb:function(f){if(l[a.a.v(f)]){var d=f.firstChild;if(d){do if(1===d.nodeType){var k;k=d.firstChild;var g=null;if(k){do if(g)g.push(k);else if(b(k)){var n=e(k,!0);n?k=n:g=[k]}else c(k)&&(g=[k]);while(k=k.nextSibling)}if(k=g)for(g=d.nextSibling,n=0;n<k.length;n++)g?f.insertBefore(k[n],g):f.appendChild(k[n])}while(d=d.nextSibling)}}}}})();a.b("virtualElements",a.e);a.b("virtualElements.allowedBindings",
a.e.R);a.b("virtualElements.emptyNode",a.e.ma);a.b("virtualElements.insertAfter",a.e.Fb);a.b("virtualElements.prepend",a.e.Mb);a.b("virtualElements.setDomNodeChildren",a.e.T);(function(){a.L=function(){this.ec={}};a.a.extend(a.L.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=b.getAttribute("data-bind")||a.g.getComponentNameForNode(b);case 8:return a.e.oc(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,
c,b):null;return a.g.sb(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.g.sb(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.e.Fc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var g=this.ec,m=b+(e&&e.valueAccessors||""),k;if(!(k=g[m])){var l,f="with($context){with($data||{}){return{"+a.h.Ea(b,e)+"}}}";l=new Function("$context",
"$element",f);k=g[m]=l}return k(c,d)}catch(p){throw p.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+p.message,p;}}});a.L.instance=new a.L})();a.b("bindingProvider",a.L);(function(){function e(a){return function(){return a}}function g(a){return a()}function n(b){return a.a.pa(a.k.u(b),function(a,c){return function(){return b()[c]}})}function t(b,c,f){return"function"===typeof b?n(b.bind(null,c,f)):a.a.pa(b,e)}function v(a,b){return n(this.getBindings.bind(this,a,b))}function m(b,
c,f){var d,e=a.e.firstChild(c),h=a.L.instance,l=h.preprocessNode;if(l){for(;d=e;)e=a.e.nextSibling(d),l.call(h,d);e=a.e.firstChild(c)}for(;d=e;)e=a.e.nextSibling(d),k(b,d,f)}function k(b,c,d){var e=!0,h=1===c.nodeType;h&&a.e.Kb(c);if(h&&d||a.L.instance.nodeHasBindings(c))e=f(c,null,b,d).shouldBindDescendants;e&&!J[a.a.v(c)]&&m(b,c,!h)}function l(b){var c=[],f={},d=[];a.a.A(b,function A(e){if(!f[e]){var h=a.getBindingHandler(e);h&&(h.after&&(d.push(e),a.a.o(h.after,function(c){if(b[c]){if(-1!==a.a.m(d,
c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));A(c)}}),d.length--),c.push({key:e,Eb:h}));f[e]=!0}});return c}function f(c,f,d,e){var h=a.a.f.get(c,F);if(!f){if(h)throw Error("You cannot apply bindings multiple times to the same element.");a.a.f.set(c,F,!0)}!h&&e&&a.Tb(c,d);var k;if(f&&"function"!==typeof f)k=f;else{var p=a.L.instance,n=p.getBindingAccessors||v,t=a.j(function(){(k=f?f(d,c):n.call(p,c,d))&&d.K&&d.K();return k},null,{q:c});
k&&t.$()||(t=null)}var m;if(k){var J=t?function(a){return function(){return g(t()[a])}}:function(a){return k[a]},w=function(){return a.a.pa(t?t():k,g)};w.get=function(a){return k[a]&&g(J(a))};w.has=function(a){return a in k};e=l(k);a.a.o(e,function(f){var e=f.Eb.init,h=f.Eb.update,l=f.key;if(8===c.nodeType&&!a.e.R[l])throw Error("The binding '"+l+"' cannot be used with virtual elements");try{"function"==typeof e&&a.k.u(function(){var a=e(c,J(l),w,d.$data,d);if(a&&a.controlsDescendantBindings){if(m!==
b)throw Error("Multiple bindings ("+m+" and "+l+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");m=l}}),"function"==typeof h&&a.j(function(){h(c,J(l),w,d.$data,d)},null,{q:c})}catch(p){throw p.message='Unable to process binding "'+l+": "+k[l]+'"\nMessage: '+p.message,p;}})}return{shouldBindDescendants:m===b}}function p(b){return b&&b instanceof a.N?b:new a.N(b)}a.d={};var J={script:!0,textarea:!0};a.getBindingHandler=function(b){return a.d[b]};
a.N=function(c,f,d,e){var h=this,k="function"==typeof c&&!a.F(c),l,p=a.j(function(){var b=k?c():c,l=a.a.c(b);f?(f.K&&f.K(),a.a.extend(h,f),p&&(h.K=p)):(h.$parents=[],h.$root=l,h.ko=a);h.$rawData=b;h.$data=l;d&&(h[d]=l);e&&e(h,f,l);return h.$data},null,{Pa:function(){return l&&!a.a.tb(l)},q:!0});p.$()&&(h.K=p,p.equalityComparer=null,l=[],p.Zb=function(c){l.push(c);a.a.C.fa(c,function(c){a.a.ya(l,c);l.length||(p.p(),h.K=p=b)})})};a.N.prototype.createChildContext=function(b,c,f){return new a.N(b,this,
c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);f&&f(a)})};a.N.prototype.extend=function(b){return new a.N(this.K||this.$data,this,null,function(c,f){c.$rawData=f.$rawData;a.a.extend(c,"function"==typeof b?b():b)})};var F=a.a.f.I(),w=a.a.f.I();a.Tb=function(b,c){if(2==arguments.length)a.a.f.set(b,w,c),c.K&&c.K.Zb(b);else return a.a.f.get(b,w)};a.va=function(b,c,d){1===b.nodeType&&a.e.Kb(b);return f(b,c,p(d),!0)};a.cc=function(b,
c,f){f=p(f);return a.va(b,t(c,f,b),f)};a.Ja=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(p(a),b,!0)};a.ub=function(a,b){!c&&d.jQuery&&(c=d.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||d.document.body;k(p(a),b,!0)};a.Oa=function(c){switch(c.nodeType){case 1:case 8:var f=a.Tb(c);if(f)return f;if(c.parentNode)return a.Oa(c.parentNode)}return b};a.gc=function(c){return(c=a.Oa(c))?
c.$data:b};a.b("bindingHandlers",a.d);a.b("applyBindings",a.ub);a.b("applyBindingsToDescendants",a.Ja);a.b("applyBindingAccessorsToNode",a.va);a.b("applyBindingsToNode",a.cc);a.b("contextFor",a.Oa);a.b("dataFor",a.gc)})();(function(b){function c(e,l){var f=g.hasOwnProperty(e)?g[e]:b,p;f?f.U(l):(f=g[e]=new a.Q,f.U(l),d(e,function(a,b){var c=!(!b||!b.synchronous);m[e]={definition:a,tc:c};delete g[e];p||c?f.notifySubscribers(a):setTimeout(function(){f.notifySubscribers(a)},0)}),p=!0)}function d(a,b){e("getConfig",
[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function e(c,d,f,p){p||(p=a.g.loaders.slice(0));var g=p.shift();if(g){var n=g[c];if(n){var m=!1;if(n.apply(g,d.concat(function(a){m?f(null):null!==a?f(a):e(c,d,f,p)}))!==b&&(m=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,p)}else f(null)}var g={},m={};a.g={get:function(d,e){var f=m.hasOwnProperty(d)?m[d]:
b;f?f.tc?a.k.u(function(){e(f.definition)}):setTimeout(function(){e(f.definition)},0):c(d,e)},zb:function(a){delete m[a]},ob:e};a.g.loaders=[];a.b("components",a.g);a.b("components.get",a.g.get);a.b("components.clearCachedDefinition",a.g.zb)})();(function(){function b(c,d,e,h){function k(){0===--n&&h(g)}var g={},n=2,t=e.template;e=e.viewModel;t?v(d,t,function(b){a.g.ob("loadTemplate",[c,b],function(a){g.template=a;k()})}):k();e?v(d,e,function(b){a.g.ob("loadViewModel",[c,b],function(a){g[l]=a;k()})}):
k()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});else if("function"===typeof b[l])d(b[l]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function e(b){switch(a.a.v(b)){case "script":return a.a.ca(b.text);case "textarea":return a.a.ca(b.value);case "template":if(t(b.content))return a.a.la(b.content.childNodes)}return a.a.la(b.childNodes)}function t(a){return d.DocumentFragment?a instanceof
DocumentFragment:a&&11===a.nodeType}function v(a,b,c){"string"===typeof b.require?E||d.require?(E||d.require)([b.require],c):a("Uses require, but no AMD loader is present"):c(b)}function m(a){return function(b){throw Error("Component '"+a+"': "+b);}}var k={};a.g.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.g.Xa(b))throw Error("Component "+b+" is already registered");k[b]=c};a.g.Xa=function(a){return a in k};a.g.Ec=function(b){delete k[b];a.g.zb(b)};a.g.Ab={getConfig:function(a,
b){b(k.hasOwnProperty(a)?k[a]:null)},loadComponent:function(a,c,d){var e=m(a);v(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,h){b=m(b);if("string"===typeof c)h(a.a.ca(c));else if(c instanceof Array)h(c);else if(t(c))h(a.a.O(c.childNodes));else if(c.element)if(c=c.element,d.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)h(e(c));else if("string"===typeof c){var l=g.getElementById(c);l?h(e(l)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+c);else b("Unknown template value: "+
c)},loadViewModel:function(a,b,d){c(m(a),b,d)}};var l="createViewModel";a.b("components.register",a.g.register);a.b("components.isRegistered",a.g.Xa);a.b("components.unregister",a.g.Ec);a.b("components.defaultLoader",a.g.Ab);a.g.loaders.push(a.g.Ab);a.g.$b=k})();(function(){function b(d,e){var h=d.getAttribute("params");if(h){var h=c.parseBindingsString(h,e,d,{valueAccessors:!0,bindingParams:!0}),h=a.a.pa(h,function(b){return a.w(b,null,{q:d})}),g=a.a.pa(h,function(b){var c=b.B();return b.$()?a.w({read:function(){return a.a.c(b())},
write:a.Da(c)&&function(a){b()(a)},q:d}):c});g.hasOwnProperty("$raw")||(g.$raw=h);return g}return{$raw:{}}}a.g.getComponentNameForNode=function(b){b=a.a.v(b);return a.g.Xa(b)&&b};a.g.sb=function(c,d,e,g){if(1===d.nodeType){var k=a.g.getComponentNameForNode(d);if(k){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var l={name:k,params:b(d,e)};c.component=g?function(){return l}:l}}return c};var c=new a.L;9>a.a.M&&(a.g.register=function(a){return function(b){g.createElement(b);
return a.apply(this,arguments)}}(a.g.register),g.createDocumentFragment=function(b){return function(){var c=b(),d=a.g.$b,e;for(e in d)d.hasOwnProperty(e)&&c.createElement(e);return c}}(g.createDocumentFragment))})();(function(b){function c(b,d,e){d=d.template;if(!d)throw Error("Component '"+b+"' has no template");b=a.a.la(d);a.e.T(e,b)}function d(a,b,c,e){var f=a.createViewModel;return f?f.call(a,e,{element:b,templateNodes:c}):e}var e=0;a.d.component={init:function(g,m,k,l,f){function p(){var a=J&&
J.dispose;"function"===typeof a&&a.call(J);F=null}var J,F,w=a.a.O(a.e.childNodes(g));a.a.C.fa(g,p);a.w(function(){var l=a.a.c(m()),k,r;"string"===typeof l?k=l:(k=a.a.c(l.name),r=a.a.c(l.params));if(!k)throw Error("No component name specified");var s=F=++e;a.g.get(k,function(e){if(F===s){p();if(!e)throw Error("Unknown component '"+k+"'");c(k,e,g);var l=d(e,g,w,r);e=f.createChildContext(l,b,function(a){a.$component=l;a.$componentTemplateNodes=w});J=l;a.Ja(e,g)}})},null,{q:g});return{controlsDescendantBindings:!0}}};
a.e.R.component=!0})();var V={"class":"className","for":"htmlFor"};a.d.attr={update:function(c,d){var e=a.a.c(d())||{};a.a.A(e,function(d,e){e=a.a.c(e);var g=!1===e||null===e||e===b;g&&c.removeAttribute(d);8>=a.a.M&&d in V?(d=V[d],g?c.removeAttribute(d):c[d]=e):g||c.setAttribute(d,e.toString());"name"===d&&a.a.Rb(c,g?"":e.toString())})}};(function(){a.d.checked={after:["value","attr"],init:function(c,d,e){function g(){var b=c.checked,k=J?m():b;if(!a.Z.Ca()&&(!l||b)){var t=a.k.u(d);f?p!==k?(b&&(a.a.ga(t,
k,!0),a.a.ga(t,p,!1)),p=k):a.a.ga(t,k,b):a.h.ra(t,e,"checked",k,!0)}}function v(){var b=a.a.c(d());c.checked=f?0<=a.a.m(b,m()):k?b:m()===b}var m=a.Nb(function(){return e.has("checkedValue")?a.a.c(e.get("checkedValue")):e.has("value")?a.a.c(e.get("value")):c.value}),k="checkbox"==c.type,l="radio"==c.type;if(k||l){var f=k&&a.a.c(d())instanceof Array,p=f?m():b,J=l||f;l&&!c.name&&a.d.uniqueName.init(c,function(){return!0});a.w(g,null,{q:c});a.a.n(c,"click",g);a.w(v,null,{q:c})}}};a.h.V.checked=!0;a.d.checkedValue=
{update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());null!==d&&"object"==typeof d?a.a.A(d,function(c,d){d=a.a.c(d);a.a.Ia(b,c,d)}):(d=String(d||""),a.a.Ia(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.Ia(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,
e,g){var m=c()||{};a.a.A(m,function(k){"string"==typeof k&&a.a.n(b,k,function(b){var f,h=c()[k];if(h){try{var m=a.a.O(arguments);e=g.$data;m.unshift(e);f=h.apply(e,m)}finally{!0!==f&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(k+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={Ib:function(b){return function(){var c=b(),d=a.a.cb(c);if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.P.Va};a.a.c(c);return{foreach:d.data,as:d.as,
includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.P.Va}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.Ib(c))},update:function(b,c,d,e,g){return a.d.template.update(b,a.d.foreach.Ib(c),d,e,g)}};a.h.ka.foreach=!1;a.e.R.foreach=!0;a.d.hasfocus={init:function(b,c,d){function e(k){b.__ko_hasfocusUpdating=!0;var l=b.ownerDocument;if("activeElement"in l){var f;try{f=l.activeElement}catch(g){f=
l.body}k=f===b}l=c();a.h.ra(l,d,"hasfocus",k,!0);b.__ko_hasfocusLastValue=k;b.__ko_hasfocusUpdating=!1}var g=e.bind(null,!0),m=e.bind(null,!1);a.a.n(b,"focus",g);a.a.n(b,"focusin",g);a.a.n(b,"blur",m);a.a.n(b,"focusout",m)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.k.u(a.a.qa,null,[b,d?"focusin":"focusout"]))}};a.h.V.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.h.V.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},
update:function(b,c){a.a.gb(b,c())}};O("if");O("ifnot",!1,!0);O("with",!0,!1,function(a,b){return a.createChildContext(b)});var R={};a.d.options={init:function(b){if("select"!==a.a.v(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(c,d,e){function g(){return a.a.xa(c.options,function(a){return a.selected})}function v(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function m(b,d){if(r&&
p)a.i.Y(c,a.a.c(e.get("value")),!0);else if(w.length){var f=0<=a.a.m(w,a.i.s(d[0]));a.a.Sb(d[0],f);r&&!f&&a.k.u(a.a.qa,null,[c,"change"])}}var k=c.multiple,l=0!=c.length&&k?c.scrollTop:null,f=a.a.c(d()),p=e.get("valueAllowUnset")&&e.has("value"),J=e.get("optionsIncludeDestroyed");d={};var F,w=[];p||(k?w=a.a.Ka(g(),a.i.s):0<=c.selectedIndex&&w.push(a.i.s(c.options[c.selectedIndex])));f&&("undefined"==typeof f.length&&(f=[f]),F=a.a.xa(f,function(c){return J||c===b||null===c||!a.a.c(c._destroy)}),e.has("optionsCaption")&&
(f=a.a.c(e.get("optionsCaption")),null!==f&&f!==b&&F.unshift(R)));var r=!1;d.beforeRemove=function(a){c.removeChild(a)};f=m;e.has("optionsAfterRender")&&"function"==typeof e.get("optionsAfterRender")&&(f=function(c,d){m(0,d);a.k.u(e.get("optionsAfterRender"),null,[d[0],c!==R?c:b])});a.a.fb(c,F,function(d,f,l){l.length&&(w=!p&&l[0].selected?[a.i.s(l[0])]:[],r=!0);f=c.ownerDocument.createElement("option");d===R?(a.a.Ha(f,e.get("optionsCaption")),a.i.Y(f,b)):(l=v(d,e.get("optionsValue"),d),a.i.Y(f,a.a.c(l)),
d=v(d,e.get("optionsText"),l),a.a.Ha(f,d));return[f]},d,f);a.k.u(function(){p?a.i.Y(c,a.a.c(e.get("value")),!0):(k?w.length&&g().length<w.length:w.length&&0<=c.selectedIndex?a.i.s(c.options[c.selectedIndex])!==w[0]:w.length||0<=c.selectedIndex)&&a.a.qa(c,"change")});a.a.kc(c);l&&20<Math.abs(l-c.scrollTop)&&(c.scrollTop=l)}};a.d.options.ab=a.a.f.I();a.d.selectedOptions={after:["options","foreach"],init:function(b,c,d){a.a.n(b,"change",function(){var e=c(),g=[];a.a.o(b.getElementsByTagName("option"),
function(b){b.selected&&g.push(a.i.s(b))});a.h.ra(e,d,"selectedOptions",g)})},update:function(b,c){if("select"!=a.a.v(b))throw Error("values binding applies only to SELECT elements");var d=a.a.c(c());d&&"number"==typeof d.length&&a.a.o(b.getElementsByTagName("option"),function(b){var c=0<=a.a.m(d,a.i.s(b));a.a.Sb(b,c)})}};a.h.V.selectedOptions=!0;a.d.style={update:function(c,d){var e=a.a.c(d()||{});a.a.A(e,function(d,e){e=a.a.c(e);if(null===e||e===b||!1===e)e="";c.style[d]=e})}};a.d.submit={init:function(b,
c,d,e,g){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.n(b,"submit",function(a){var d,e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Ha(b,c())}};a.e.R.text=!0;(function(){if(d&&d.navigator)var c=function(a){if(a)return parseFloat(a[1])},e=d.opera&&d.opera.version&&parseInt(d.opera.version()),g=d.navigator.userAgent,
t=c(g.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),r=c(g.match(/Firefox\/([^ ]*)/));if(10>a.a.M)var m=a.a.f.I(),k=a.a.f.I(),l=function(b){var c=this.activeElement;(c=c&&a.a.f.get(c,k))&&c(b)},f=function(b,c){var d=b.ownerDocument;a.a.f.get(d,m)||(a.a.f.set(d,m,!0),a.a.n(d,"selectionchange",l));a.a.f.set(b,k,c)};a.d.textInput={init:function(c,d,l){function g(b,d){a.a.n(c,b,d)}function k(){var e=a.a.c(d());if(null===e||e===b)e="";u!==b&&e===u?setTimeout(k,4):c.value!==e&&(m=e,c.value=e)}function h(){s||
(u=c.value,s=setTimeout(n,4))}function n(){clearTimeout(s);u=s=b;var e=c.value;m!==e&&(m=e,a.h.ra(d(),l,"textInput",e))}var m=c.value,s,u;10>a.a.M?(g("propertychange",function(a){"value"===a.propertyName&&n()}),8==a.a.M&&(g("keyup",n),g("keydown",n)),8<=a.a.M&&(f(c,n),g("dragend",h))):(g("input",n),5>t&&"textarea"===a.a.v(c)?(g("keydown",h),g("paste",h),g("cut",h)):11>e?g("keydown",h):4>r&&(g("DOMAutoComplete",n),g("dragdrop",n),g("drop",n)));g("change",n);a.w(k,null,{q:c})}};a.h.V.textInput=!0;a.d.textinput=
{preprocess:function(a,b,c){c("textInput",a)}}})();a.d.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.d.uniqueName.fc;a.a.Rb(b,d)}}};a.d.uniqueName.fc=0;a.d.value={after:["options","foreach"],init:function(b,c,d){if("input"!=b.tagName.toLowerCase()||"checkbox"!=b.type&&"radio"!=b.type){var e=["change"],g=d.get("valueUpdate"),m=!1,k=null;g&&("string"==typeof g&&(g=[g]),a.a.ia(e,g),e=a.a.wb(e));var l=function(){k=null;m=!1;var e=c(),f=a.i.s(b);a.h.ra(e,d,"value",f)};!a.a.M||"input"!=
b.tagName.toLowerCase()||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.m(e,"propertychange")||(a.a.n(b,"propertychange",function(){m=!0}),a.a.n(b,"focus",function(){m=!1}),a.a.n(b,"blur",function(){m&&l()}));a.a.o(e,function(c){var d=l;a.a.Dc(c,"after")&&(d=function(){k=a.i.s(b);setTimeout(l,0)},c=c.substring(5));a.a.n(b,c,d)});var f=function(){var e=a.a.c(c()),g=a.i.s(b);if(null!==k&&e===k)setTimeout(f,0);else if(e!==g)if("select"===a.a.v(b)){var l=d.get("valueAllowUnset"),
g=function(){a.i.Y(b,e,l)};g();l||e===a.i.s(b)?setTimeout(g,0):a.k.u(a.a.qa,null,[b,"change"])}else a.i.Y(b,e)};a.w(f,null,{q:b})}else a.va(b,{checkedValue:c})},update:function(){}};a.h.V.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};(function(b){a.d[b]={init:function(c,d,e,g,m){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g,m)}}})("click");a.J=function(){};a.J.prototype.renderTemplateSource=
function(){throw Error("Override renderTemplateSource");};a.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.J.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||g;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.t.l(d)}if(1==b.nodeType||8==b.nodeType)return new a.t.ha(b);throw Error("Unknown template type: "+b);};a.J.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,
d);return this.renderTemplateSource(a,b,c,d)};a.J.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};a.J.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};a.b("templateEngine",a.J);a.kb=function(){function b(c,d,e,g){c=a.h.bb(c);for(var l=a.h.ka,f=0;f<c.length;f++){var h=c[f].key;if(l.hasOwnProperty(h)){var n=l[h];if("function"===typeof n){if(h=
n(c[f].value))throw Error(h);}else if(!n)throw Error("This template engine does not support the '"+h+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.h.Ea(c,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return g.createJavaScriptEvaluatorBlock(e)+d}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(b,
c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kb.xc(b,c)},d)},xc:function(a,e){return a.replace(c,function(a,c,d,f,g){return b(g,c,d,e)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",e)})},dc:function(b,c){return a.H.$a(function(d,e){var g=d.nextSibling;g&&g.nodeName.toLowerCase()===c&&a.va(g,b,e)})}}}();a.b("__tr_ambtns",a.kb.dc);(function(){a.t={};a.t.l=function(a){this.l=a};a.t.l.prototype.text=function(){var b=a.a.v(this.l),b="script"===b?"text":
"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.l[b];var c=arguments[0];"innerHTML"===b?a.a.gb(this.l,c):this.l[b]=c};var c=a.a.f.I()+"_";a.t.l.prototype.data=function(b){if(1===arguments.length)return a.a.f.get(this.l,c+b);a.a.f.set(this.l,c+b,arguments[1])};var d=a.a.f.I();a.t.ha=function(a){this.l=a};a.t.ha.prototype=new a.t.l;a.t.ha.prototype.text=function(){if(0==arguments.length){var c=a.a.f.get(this.l,d)||{};c.lb===b&&c.Na&&(c.lb=c.Na.innerHTML);return c.lb}a.a.f.set(this.l,
d,{lb:arguments[0]})};a.t.l.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.l,d)||{}).Na;a.a.f.set(this.l,d,{Na:arguments[0]})};a.b("templateSources",a.t);a.b("templateSources.domElement",a.t.l);a.b("templateSources.anonymousTemplate",a.t.ha)})();(function(){function c(b,d,e){var g;for(d=a.e.nextSibling(d);b&&(g=b)!==d;)b=a.e.nextSibling(g),e(g,b)}function d(b,e){if(b.length){var g=b[0],k=b[b.length-1],m=g.parentNode,n=a.L.instance,r=n.preprocessNode;if(r){c(g,k,function(a,
b){var c=a.previousSibling,d=r.call(n,a);d&&(a===g&&(g=d[0]||b),a===k&&(k=d[d.length-1]||c))});b.length=0;if(!g)return;g===k?b.push(g):(b.push(g,k),a.a.na(b,m))}c(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.ub(e,b)});c(g,k,function(b){1!==b.nodeType&&8!==b.nodeType||a.H.Xb(b,[e])});a.a.na(b,m)}}function e(a){return a.nodeType?a:0<a.length?a[0]:null}function g(b,c,k,h,r){r=r||{};var t=(b&&e(b)||k||{}).ownerDocument,s=r.templateEngine||m;a.kb.lc(k,s,t);k=s.renderTemplate(k,h,r,t);if("number"!=
typeof k.length||0<k.length&&"number"!=typeof k[0].nodeType)throw Error("Template engine must return an array of DOM nodes");t=!1;switch(c){case "replaceChildren":a.e.T(b,k);t=!0;break;case "replaceNode":a.a.Qb(b,k);t=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+c);}t&&(d(k,h),r.afterRender&&a.k.u(r.afterRender,null,[k,h.$data]));return k}function r(b,c,d){return a.F(b)?b():"function"===typeof b?b(c,d):b}var m;a.hb=function(c){if(c!=b&&!(c instanceof a.J))throw Error("templateEngine must inherit from ko.templateEngine");
m=c};a.eb=function(c,d,k,h,F){k=k||{};if((k.templateEngine||m)==b)throw Error("Set a template engine before calling renderTemplate");F=F||"replaceChildren";if(h){var w=e(h);return a.j(function(){var b=d&&d instanceof a.N?d:new a.N(a.a.c(d)),m=r(c,b.$data,b),b=g(h,F,m,b,k);"replaceNode"==F&&(h=b,w=e(h))},null,{Pa:function(){return!w||!a.a.Qa(w)},q:w&&"replaceNode"==F?w.parentNode:w})}return a.H.$a(function(b){a.eb(c,d,k,b,"replaceNode")})};a.Cc=function(c,e,k,h,m){function n(a,b){d(b,y);k.afterRender&&
k.afterRender(b,a);y=null}function s(a,b){y=m.createChildContext(a,k.as,function(a){a.$index=b});var d=r(c,a,y);return g(null,"ignoreTargetNode",d,y,k)}var y;return a.j(function(){var c=a.a.c(e)||[];"undefined"==typeof c.length&&(c=[c]);c=a.a.xa(c,function(c){return k.includeDestroyed||c===b||null===c||!a.a.c(c._destroy)});a.k.u(a.a.fb,null,[h,c,s,k,n])},null,{q:h})};var k=a.a.f.I();a.d.template={init:function(b,c){var d=a.a.c(c());if("string"==typeof d||d.name)a.e.ma(b);else{if("nodes"in d){if(d=
d.nodes||[],a.F(d))throw Error('The "nodes" option must be a plain, non-observable array.');}else d=a.e.childNodes(b);d=a.a.Jb(d);(new a.t.ha(b)).nodes(d)}return{controlsDescendantBindings:!0}},update:function(c,d,e,g,h){var m=d(),n;d=a.a.c(m);e=!0;g=null;"string"==typeof d?d={}:(m=d.name,"if"in d&&(e=a.a.c(d["if"])),e&&"ifnot"in d&&(e=!a.a.c(d.ifnot)),n=a.a.c(d.data));"foreach"in d?g=a.Cc(m||c,e&&d.foreach||[],d,c,h):e?(h="data"in d?h.createChildContext(n,d.as):h,g=a.eb(m||c,h,d,c)):a.e.ma(c);h=
g;(n=a.a.f.get(c,k))&&"function"==typeof n.p&&n.p();a.a.f.set(c,k,h&&h.$()?h:b)}};a.h.ka.template=function(b){b=a.h.bb(b);return 1==b.length&&b[0].unknown||a.h.vc(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.e.R.template=!0})();a.b("setTemplateEngine",a.hb);a.b("renderTemplate",a.eb);a.a.Cb=function(a,b,c){if(a.length&&b.length){var d,e,g,k,l;for(d=e=0;(!c||d<c)&&(k=a[e]);++e){for(g=0;l=b[g];++g)if(k.value===l.value){k.moved=l.index;l.moved=
k.index;b.splice(g,1);d=g=0;break}d+=g}}};a.a.Ma=function(){function b(c,d,e,g,h){var k=Math.min,l=Math.max,f=[],p,r=c.length,s,w=d.length,u=w-r||1,y=r+w+1,E,x,C;for(p=0;p<=r;p++)for(x=E,f.push(E=[]),C=k(w,p+u),s=l(0,p-1);s<=C;s++)E[s]=s?p?c[p-1]===d[s-1]?x[s-1]:k(x[s]||y,E[s-1]||y)+1:s+1:p+1;k=[];l=[];u=[];p=r;for(s=w;p||s;)w=f[p][s]-1,s&&w===f[p][s-1]?l.push(k[k.length]={status:e,value:d[--s],index:s}):p&&w===f[p-1][s]?u.push(k[k.length]={status:g,value:c[--p],index:p}):(--s,--p,h.sparse||k.push({status:"retained",
value:d[s]}));a.a.Cb(l,u,10*r);return k.reverse()}return function(a,c,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];c=c||[];return a.length<=c.length?b(a,c,"added","deleted",d):b(c,a,"deleted","added",d)}}();a.b("utils.compareArrays",a.a.Ma);(function(){function c(d,e,g,h,k){var l=[],f=a.j(function(){var b=e(g,k,a.a.na(l,d))||[];0<l.length&&(a.a.Qb(l,b),h&&a.k.u(h,null,[g,b,k]));l.length=0;a.a.ia(l,b)},null,{q:d,Pa:function(){return!a.a.tb(l)}});return{aa:l,j:f.$()?f:b}}var d=a.a.f.I();
a.a.fb=function(e,g,r,m,k){function l(b,c){z=s[c];x!==c&&(A[b]=z);z.Ua(x++);a.a.na(z.aa,e);E.push(z);G.push(z)}function f(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.o(c[d].aa,function(a){b(a,d,c[d].wa)})}g=g||[];m=m||{};var p=a.a.f.get(e,d)===b,s=a.a.f.get(e,d)||[],u=a.a.Ka(s,function(a){return a.wa}),w=a.a.Ma(u,g,m.dontLimitMoves),E=[],y=0,x=0,C=[],G=[];g=[];for(var A=[],u=[],z,M=0,H,I;H=w[M];M++)switch(I=H.moved,H.status){case "deleted":I===b&&(z=s[y],z.j&&z.j.p(),C.push.apply(C,a.a.na(z.aa,
e)),m.beforeRemove&&(g[M]=z,G.push(z)));y++;break;case "retained":l(M,y++);break;case "added":I!==b?l(M,I):(z={wa:H.value,Ua:a.r(x++)},E.push(z),G.push(z),p||(u[M]=z))}f(m.beforeMove,A);a.a.o(C,m.beforeRemove?a.S:a.removeNode);for(var M=0,p=a.e.firstChild(e),O;z=G[M];M++){z.aa||a.a.extend(z,c(e,r,z.wa,k,z.Ua));for(y=0;w=z.aa[y];p=w.nextSibling,O=w,y++)w!==p&&a.e.Fb(e,w,O);!z.rc&&k&&(k(z.wa,z.aa,z.Ua),z.rc=!0)}f(m.beforeRemove,g);f(m.afterMove,A);f(m.afterAdd,u);a.a.f.set(e,d,E)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",
a.a.fb);a.P=function(){this.allowTemplateRewriting=!1};a.P.prototype=new a.J;a.P.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.M?0:b.nodes)?b.nodes():null)return a.a.O(c.cloneNode(!0).childNodes);b=b.text();return a.a.ca(b,e)};a.P.Va=new a.P;a.hb(a.P.Va);a.b("nativeTemplateEngine",a.P);(function(){a.Ya=function(){var a=this.uc=function(){if(!c||!c.tmpl)return 0;try{if(0<=c.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,
d,e,h){h=h||g;e=e||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var k=b.data("precompiled");k||(k=b.text()||"",k=c.template(null,"{{ko_with $item.koBindingContext}}"+k+"{{/ko_with}}"),b.data("precompiled",k));b=[d.$data];d=c.extend({koBindingContext:d},e.templateOptions);d=c.tmpl(k,b,d);d.appendTo(h.createElement("div"));c.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){g.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(c.tmpl.tag.ko_code={open:"__.push($1 || '');"},c.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.Ya.prototype=new a.J;var b=new a.Ya;0<b.uc&&a.hb(b);a.b("jqueryTmplTemplateEngine",a.Ya)})()})})()})();
(function(b){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?b(require("knockout"),exports):"function"===typeof define&&define.amd?define(["knockout","exports"],b):b(ko,ko.mapping={})})(function(b,d){function g(a,b){var c,e;for(e in b)if(b.hasOwnProperty(e)&&b[e])if(c=d.getType(a[e]),e&&a[e]&&"array"!==c&&"string"!==c)g(a[e],b[e]);else if("array"===d.getType(a[e])&&"array"===d.getType(b[e])){c=a;for(var h=e,m=a[e],r=b[e],s={},n=m.length-1;0<=n;--n)s[m[n]]=m[n];for(n=
r.length-1;0<=n;--n)s[r[n]]=r[n];m=[];r=void 0;for(r in s)m.push(s[r]);c[h]=m}else a[e]=b[e]}function e(a,b){var c={};g(c,a);g(c,b);return c}function c(a,b){for(var c=e({},a),d=n.length-1;0<=d;d--){var g=n[d];c[g]&&(c[""]instanceof Object||(c[""]={}),c[""][g]=c[g],delete c[g])}b&&(c.ignore=r(b.ignore,c.ignore),c.include=r(b.include,c.include),c.copy=r(b.copy,c.copy),c.observe=r(b.observe,c.observe));c.ignore=r(c.ignore,m.ignore);c.include=r(c.include,m.include);c.copy=r(c.copy,m.copy);c.observe=r(c.observe,
m.observe);c.mappedProperties=c.mappedProperties||{};c.copiedProperties=c.copiedProperties||{};return c}function r(a,c){"array"!==d.getType(a)&&(a="undefined"===d.getType(a)?[]:[a]);"array"!==d.getType(c)&&(c="undefined"===d.getType(c)?[]:[c]);return b.utils.arrayGetDistinctValues(a.concat(c))}function s(c,g,f,p,m,r,n){var v="array"===d.getType(b.utils.unwrapObservable(g));r=r||"";if(d.isMapped(c)){var y=b.utils.unwrapObservable(c)[u];f=e(y,f)}var C=n||m,G=function(){return f[p]&&f[p].create instanceof
Function},S=function(a){var c=h,d=b.dependentObservable;b.dependentObservable=function(a,d,e){e=e||{};a&&"object"==typeof a&&(e=a);var f=e.deferEvaluation,g=!1;e.deferEvaluation=!0;a=new V(a,d,e);if(!f){var k=a,f=b.dependentObservable;b.dependentObservable=V;a=b.isWriteableObservable(k);b.dependentObservable=f;f=V({read:function(){g||(b.utils.arrayRemoveItem(c,k),g=!0);return k.apply(k,arguments)},write:a&&function(a){return k(a)},deferEvaluation:!0});f.__DO=k;a=f;c.push(a)}return a};b.dependentObservable.fn=
V.fn;b.computed=b.dependentObservable;a=b.utils.unwrapObservable(m)instanceof Array?f[p].create({data:a||g,parent:C,skip:t}):f[p].create({data:a||g,parent:C});b.dependentObservable=d;b.computed=b.dependentObservable;return a},A=function(){return f[p]&&f[p].update instanceof Function},z=function(a,c){var d={data:c||g,parent:C,target:b.utils.unwrapObservable(a)};b.isWriteableObservable(a)&&(d.observable=a);return f[p].update(d)};if(n=D.get(g))return n;p=p||"";if(v){var v=[],M=!1,H=function(a){return a};
f[p]&&f[p].key&&(H=f[p].key,M=!0);b.isObservable(c)||(c=b.observableArray([]),c.mappedRemove=function(a){var b="function"==typeof a?a:function(b){return b===H(a)};return c.remove(function(a){return b(H(a))})},c.mappedRemoveAll=function(a){var d=I(a,H);return c.remove(function(a){return-1!=b.utils.arrayIndexOf(d,H(a))})},c.mappedDestroy=function(a){var b="function"==typeof a?a:function(b){return b===H(a)};return c.destroy(function(a){return b(H(a))})},c.mappedDestroyAll=function(a){var d=I(a,H);return c.destroy(function(a){return-1!=
b.utils.arrayIndexOf(d,H(a))})},c.mappedIndexOf=function(a){var d=I(c(),H);a=H(a);return b.utils.arrayIndexOf(d,a)},c.mappedGet=function(a){return c()[c.mappedIndexOf(a)]},c.mappedCreate=function(a){if(-1!==c.mappedIndexOf(a))throw Error("There already is an object with the key that you specified.");var d=G()?S(a):a;A()&&(a=z(d,a),b.isWriteableObservable(d)?d(a):d=a);c.push(d);return d});n=I(b.utils.unwrapObservable(c),H).sort();y=I(g,H);M&&y.sort();M=b.utils.compareArrays(n,y);n={};var R,W=b.utils.unwrapObservable(g),
L={},q=!0,y=0;for(R=W.length;y<R;y++){var B=H(W[y]);if(void 0===B||B instanceof Object){q=!1;break}L[B]=W[y]}var W=[],X=0,y=0;for(R=M.length;y<R;y++){var B=M[y],K,N=r+"["+y+"]";switch(B.status){case "added":var Q=q?L[B.value]:x(b.utils.unwrapObservable(g),B.value,H);K=s(void 0,Q,f,p,c,N,m);G()||(K=b.utils.unwrapObservable(K));N=E(b.utils.unwrapObservable(g),Q,n);K===t?X++:W[N-X]=K;n[N]=!0;break;case "retained":Q=q?L[B.value]:x(b.utils.unwrapObservable(g),B.value,H);K=x(c,B.value,H);s(K,Q,f,p,c,N,
m);N=E(b.utils.unwrapObservable(g),Q,n);W[N]=K;n[N]=!0;break;case "deleted":K=x(c,B.value,H)}v.push({event:B.status,item:K})}c(W);f[p]&&f[p].arrayChanged&&b.utils.arrayForEach(v,function(a){f[p].arrayChanged(a.event,a.item)})}else if(a(g)){c=b.utils.unwrapObservable(c);if(!c){if(G())return M=S(),A()&&(M=z(M)),M;if(A())return z(M);c={}}A()&&(c=z(c));D.save(g,c);if(A())return c;O(g,function(a){var d=r.length?r+"."+a:a;if(-1==b.utils.arrayIndexOf(f.ignore,d))if(-1!=b.utils.arrayIndexOf(f.copy,d))c[a]=
g[a];else if("object"!=typeof g[a]&&"array"!=typeof g[a]&&0<f.observe.length&&-1==b.utils.arrayIndexOf(f.observe,d))c[a]=g[a],f.copiedProperties[d]=!0;else{var e=D.get(g[a]),h=s(c[a],g[a],f,a,c,d,c),e=e||h;if(0<f.observe.length&&-1==b.utils.arrayIndexOf(f.observe,d))c[a]=e(),f.copiedProperties[d]=!0;else{if(b.isWriteableObservable(c[a])){if(e=b.utils.unwrapObservable(e),c[a]()!==e)c[a](e)}else e=void 0===c[a]?e:b.utils.unwrapObservable(e),c[a]=e;f.mappedProperties[d]=!0}}})}else switch(d.getType(g)){case "function":A()?
b.isWriteableObservable(g)?(g(z(g)),c=g):c=z(g):c=g;break;default:if(b.isWriteableObservable(c))return K=A()?z(c):b.utils.unwrapObservable(g),c(K),K;G()||A();c=G()?S():b.observable(b.utils.unwrapObservable(g));A()&&c(z(c))}return c}function E(a,b,c){for(var d=0,e=a.length;d<e;d++)if(!0!==c[d]&&a[d]===b)return d;return null}function C(a,c){var e;c&&(e=c(a));"undefined"===d.getType(e)&&(e=a);return b.utils.unwrapObservable(e)}function x(a,c,d){a=b.utils.unwrapObservable(a);for(var e=0,g=a.length;e<
g;e++){var h=a[e];if(C(h,d)===c)return h}throw Error("When calling ko.update*, the key '"+c+"' was not found!");}function I(a,c){return b.utils.arrayMap(b.utils.unwrapObservable(a),function(a){return c?C(a,c):a})}function O(a,b){if("array"===d.getType(a))for(var c=0;c<a.length;c++)b(c);else for(c in a)b(c)}function a(a){var b=d.getType(a);return("object"===b||"array"===b)&&null!==a}function S(){var a=[],c=[];this.save=function(d,e){var g=b.utils.arrayIndexOf(a,d);0<=g?c[g]=e:(a.push(d),c.push(e))};
this.get=function(d){d=b.utils.arrayIndexOf(a,d);return 0<=d?c[d]:void 0}}function G(){var a={},b=function(b){var c;try{c=b}catch(d){c="$$$"}b=a[c];void 0===b&&(b=new S,a[c]=b);return b};this.save=function(a,c){b(a).save(a,c)};this.get=function(a){return b(a).get(a)}}var u="__ko_mapping__",V=b.dependentObservable,R=0,h,D,n=["create","update","key","arrayChanged"],t={},v={include:["_destroy"],ignore:[],copy:[],observe:[]},m=v;d.isMapped=function(a){return(a=b.utils.unwrapObservable(a))&&a[u]};d.fromJS=
function(a){if(0==arguments.length)throw Error("When calling ko.fromJS, pass the object you want to convert.");try{R++||(h=[],D=new G);var b,d;2==arguments.length&&(arguments[1][u]?d=arguments[1]:b=arguments[1]);3==arguments.length&&(b=arguments[1],d=arguments[2]);d&&(b=e(b,d[u]));b=c(b);var g=s(d,a,b);d&&(g=d);if(!--R)for(;h.length;){var m=h.pop();m&&(m(),m.__DO.throttleEvaluation=m.throttleEvaluation)}g[u]=e(g[u],b);return g}catch(r){throw R=0,r;}};d.fromJSON=function(a){var c=b.utils.parseJson(a);
arguments[0]=c;return d.fromJS.apply(this,arguments)};d.updateFromJS=function(){throw Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};d.updateFromJSON=function(){throw Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};d.toJS=function(a,e){m||d.resetDefaultOptions();if(0==arguments.length)throw Error("When calling ko.mapping.toJS, pass the object you want to convert.");
if("array"!==d.getType(m.ignore))throw Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==d.getType(m.include))throw Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==d.getType(m.copy))throw Error("ko.mapping.defaultOptions().copy should be an array.");e=c(e,a[u]);return d.visitModel(a,function(a){return b.utils.unwrapObservable(a)},e)};d.toJSON=function(a,c){var e=d.toJS(a,c);return b.utils.stringifyJson(e)};d.defaultOptions=function(){if(0<arguments.length)m=
arguments[0];else return m};d.resetDefaultOptions=function(){m={include:v.include.slice(0),ignore:v.ignore.slice(0),copy:v.copy.slice(0)}};d.getType=function(a){if(a&&"object"===typeof a){if(a.constructor===Date)return"date";if(a.constructor===Array)return"array"}return typeof a};d.visitModel=function(e,g,f){f=f||{};f.visitedObjects=f.visitedObjects||new G;var h,m=b.utils.unwrapObservable(e);if(a(m))f=c(f,m[u]),g(e,f.parentName),h="array"===d.getType(m)?[]:{};else return g(e,f.parentName);f.visitedObjects.save(e,
h);var r=f.parentName;O(m,function(a){if(!f.ignore||-1==b.utils.arrayIndexOf(f.ignore,a)){var c=m[a],e=f,k=r||"";"array"===d.getType(m)?r&&(k+="["+a+"]"):(r&&(k+="."),k+=a);e.parentName=k;if(-1!==b.utils.arrayIndexOf(f.copy,a)||-1!==b.utils.arrayIndexOf(f.include,a)||!m[u]||!m[u].mappedProperties||m[u].mappedProperties[a]||!m[u].copiedProperties||m[u].copiedProperties[a]||"array"===d.getType(m))switch(d.getType(b.utils.unwrapObservable(c))){case "object":case "array":case "undefined":e=f.visitedObjects.get(c);
h[a]="undefined"!==d.getType(e)?e:d.visitModel(c,g,f);break;default:h[a]=g(c,f.parentName)}}});return h}});ko.bindingHandlers.foreachprop={transformObject:function(b){var d=[],g;for(g in b)b.hasOwnProperty(g)&&d.push({key:g,value:b[g]});return d},init:function(b,d,g,e,c){d=ko.utils.unwrapObservable(d());d=ko.bindingHandlers.foreachprop.transformObject(d);ko.applyBindingsToNode(b,{foreach:d});return{controlsDescendantBindings:!0}}};
ko.bindingHandlers.executeOnEnter={init:function(b,d,g,e,c){var r=g.get("executeOnEnter");jQuery(b).keypress(function(b){return 13===(b.which?b.which:b.keyCode)?(r.call(c.$data,b),!1):!0})}};function WorkflowEditor(){var b=this;b.steps=ko.observable({});b.step=function(d){return b.steps()[d]};b.bindKey=function(d,g,e){e=new ScriptStep(e);b.steps()[d]=e;ko.applyBindings(e,document.getElementById(g))}}
function ScriptStep(b){var d=this;d.invocationString=ko.observable("");d.fileExtension=ko.observable("");d.args=ko.observable("");d.argsQuoted=ko.observable(!1);d.argStringAsQuoted=ko.computed(function(){var b=d.argsQuoted()?'"':"";return d.args()?b+d.args()+b:""});d.fileExtensionDotted=ko.computed(function(){var b=d.fileExtension();return b?"."==b.charAt(0)?b:"."+b:""});d.scriptfileText=ko.computed(function(){return d.fileExtensionDotted()?"scriptfile"+d.fileExtensionDotted():"scriptfile"});d.argStringAsQuotedWithScriptfile=
ko.computed(function(){var b=d.argsQuoted()?'"':"";return b+"<em>"+d.scriptfileText()+"</em> "+d.args()+b});d.invocationPreviewHtml=ko.computed(function(){var b="";return b=d.invocationString()&&0<=d.invocationString().indexOf("${scriptfile}")?b+(d.invocationString().split("${scriptfile}").join("<em>"+d.scriptfileText()+"</em>")+" "+d.argStringAsQuoted()):d.invocationString()?b+(d.invocationString()+" "+d.argStringAsQuotedWithScriptfile()):b+d.argStringAsQuotedWithScriptfile()});ko.mapping.fromJS(b,
{},this)}var NODE_FILTER_ALL=".*";
function NodeSummary(b){var d=this;d.error=ko.observable();d.tags=ko.observableArray();d.filters=ko.observableArray();d.defaultFilter=ko.observable();d.totalCount=ko.observable(0);d.baseUrl=b.baseUrl?b.baseUrl:"";d.filterToDelete=ko.observable();d.reload=function(){jQuery.ajax({url:_genUrl(appLinks.frameworkNodeSummaryAjax),type:"GET",error:function(b,e,c){d.error("Recent commands list: request failed for "+requrl+": "+c+", "+e)}}).success(function(b){ko.mapping.fromJS(b,{},d)})};d.linkForTagFilter=
function(b){return _genUrl(d.baseUrl,{filter:"tags:"+b.tag()})};d.linkForFilterName=function(b){return _genUrl(d.baseUrl,{filterName:b.name()})};d.linkForNodeFilters=function(b){return _genUrl(d.baseUrl,b.getPageParams())};d.findFilterByName=function(b){var e=ko.utils.arrayFilter(d.filters(),function(c){return c.name()==b});return e&&1==e.length?e[0]:null};d.removeDefault=function(){setFilter("nodes","!").success(function(b,e,c){d.defaultFilter(null)})};d.setDefaultAll=function(){d.setDefault(NODE_FILTER_ALL)};
d.setDefault=function(b){var e=null;if("string"==typeof b)if(b==NODE_FILTER_ALL)e=b;else{b=d.findFilterByName(b);if(!b)return;e=b.name()}else e=b.name();setFilter("nodes",e).success(function(b,g,s){d.defaultFilter(e)})};d.deleteFilterConfirm=function(b){if("string"==typeof b&&(b=d.findFilterByName(b),!b))return;d.filterToDelete(b);jQuery("#deleteFilterKOModal").modal("show")};d.deleteFilter=function(b){jQuery("#deleteFilterKOModal").modal("hide");jQuery.ajax({url:_genUrl(appLinks.frameworkDeleteNodeFilterAjax,
{filtername:b.name()}),beforeSend:_ajaxSendTokens.curry("ajaxDeleteFilterTokens")}).success(function(e,c,r){d.filterToDelete(null);d.filters.remove(b)}).success(_ajaxReceiveTokens.curry("ajaxDeleteFilterTokens"))};b&&ko.mapping.fromJS(b,{},d)}
function NodeFilters(b,d,g,e){var c=this;c.baseRunUrl=b;c.baseSaveJobUrl=d;c.baseNodesPageUrl=g;c.filterName=ko.observable(e.filterName);c.filter=ko.observable(e.filter);c.filterAll=ko.observable(e.filterAll);c.nodeExcludePrecedence=ko.observable(null==e.nodeExcludePrecedence||e.nodeExcludePrecedence?"true":"false");c.nodefilterLinkId=e.nodefilterLinkId;c.total=ko.observable(0);c.allcount=ko.observable(0);c.loading=ko.observable(!1);c.error=ko.observable(null);c.project=ko.observable(e.project);c.page=
ko.observable(e.page?e.page:0);c.pagingMax=ko.observable(e.pagingMax?e.pagingMax:20);c.paging=ko.observable(null!=e.paging?e.paging?!0:!1:!1);c.maxShown=ko.observable(e.maxShown);c.elem=ko.observable(e.elem);c.tableElem=ko.observable(e.tableElem?e.tableElem:"nodesTable");c.pagingElem=ko.observable(e.pagingElem);c.view=ko.observable(e.view);c.emptyMode=ko.observable(e.emptyMode?e.emptyMode:"localnode");c.emptyMessage=ko.observable(e.emptyMessage?e.emptyMessage:"No match");c.hideAll=ko.observable(null!=
e.hideAll?e.hideAll?!0:!1:!1);c.nodeSummary=ko.observable(e.nodeSummary?e.nodeSummary:null);c.isFilterNameAll=ko.pureComputed(function(){return c.filterName()==NODE_FILTER_ALL});c.filterNameDisplay=ko.pureComputed(function(){return c.isFilterNameAll()?"All Nodes":c.filterName()});c.canSaveFilter=ko.pureComputed(function(){return!c.filterName()&&c.filterWithoutAll()});c.canDeleteFilter=ko.pureComputed(function(){return c.filterName()&&!c.isFilterNameAll()});c.canSetDefaultFilter=ko.pureComputed(function(){return c.filterName()&&
c.filterName()!=c.nodeSummary().defaultFilter()});c.canRemoveDefaultFilter=ko.pureComputed(function(){return c.filterName()&&c.filterName()==c.nodeSummary().defaultFilter()});c.deleteFilter=function(){c.nodeSummary().deleteFilterConfirm(c.filterName())};c.setDefaultFilter=function(){c.nodeSummary().setDefault(c.filterName())};c.pageRemaining=ko.computed(function(){return 0>=c.total()||0>c.page()?0:c.allcount()-(c.page()+1)*c.pagingMax()});c.hasMoreNodes=ko.computed(function(){return 0<c.pageRemaining()});
c.hasMultiplePages=ko.computed(function(){return c.pageRemaining()>c.pagingMax()});c.nodesTitle=ko.computed(function(){return 1==c.allcount()?e.nodesTitleSingular||"Node":e.nodesTitlePlural||"Nodes"});c.filterWithoutAll=ko.computed({read:function(){return c.filterAll()&&c.filter()==NODE_FILTER_ALL&&c.hideAll()?"":c.filter()},write:function(b){c.filter(b)},owner:this});c.filterIsSet=ko.pureComputed(function(){return!!c.filterWithoutAll()||!!c.filterName()});c.filter.subscribe(function(b){""==b&&c.hideAll()&&
c.filterAll(!0)});c.filter.subscribe(function(b){""==b&&"blank"==c.emptyMode()&&(jQuery("#"+c.elem()).empty(),c.clear())});c.filter.subscribe(function(b){""!=b&&c.filterName()&&c.filterName(null)});c.nodeExcludePrecedence.subscribe(function(b){c.updateMatchedNodes()});c.hasNodes=ko.computed(function(){return 0!=c.allcount()});c.runCommand=function(){document.location=_genUrl(c.baseRunUrl,{filter:c.filter(),filterName:c.filterName()?c.filterName():""})};c.saveJob=function(){document.location=_genUrl(c.baseSaveJobUrl,
{filter:c.filter(),filterName:c.filterName()?c.filterName():""})};c.nodesPageView=function(){document.location=_genUrl(c.baseNodesPageUrl,{filter:c.filter(),filterName:c.filterName()?c.filterName():""})};c.clear=function(){c.page(0);c.total(0);c.allcount(-1)};c.reset=function(){c.clear();c.filterAll(!1);c.filterWithoutAll(null);c.filterName(null)};c.useFilterString=function(b){c.filterAll(!1);c.filterWithoutAll(b);c.filterName(null);c.clear();c.updateMatchedNodes()};c.getPageParams=function(){return{filter:c.filter()||
"",filterName:c.filterName()||"",filterAll:c.filterAll()||""}};c.getPageUrl=function(){return c.nodeSummary().linkForNodeFilters(c)};c.setPageParams=function(b){c.filterAll(b.filterAll);c.filter(b.filter);c.filterName(b.filterName);c.clear();c.updateMatchedNodes()};c.selectNodeFilterLink=function(b,d){var e=c.filter(),g=jQuery(b).data("node-filter-name"),x=jQuery(b).data("node-filter"),I=jQuery(b).data("node-tag");x&&0<=x.indexOf("&")&&(x=html_unescape(x));var O=jQuery(b).data("node-filter-all"),
a=e?e.indexOf("tags: "):-1;if(d&&I&&0<=a){for(var x=e.substring(0,a),e=e.substring(a+6),S="";0==e.indexOf(" ");)e=e.substring(1);a=e.indexOf(" ");0<a&&(S=e.substring(a),e=e.substring(0,a));x=x+"tags: "+e+"+"+I+S}else x&&!g&&e&&!O&&e!=NODE_FILTER_ALL?x=e+" "+x:O&&(x=NODE_FILTER_ALL);c.filterAll(O);c.filter(x);c.filterName(g);c.clear();c.updateMatchedNodes()};c.updateNodesNextPage=function(){c.page()||c.page(0);c.page(c.page()+1);c.updateMatchedNodes()};c.updateNodesRemainingPages=function(){c.page(-1);
c.updateMatchedNodes()};c.updateMatchedNodes=function(){if(c.filter()&&c.project()){var b=c.filterName()?{filterName:c.filterName()}:c.filter()?{filter:c.filter()}:{},d=c.page(),e="#"+c.elem(),g=!0,x={view:c.view()?c.view():"table",declarenone:!0,fullresults:!0,expanddetail:!0,inlinepaging:!1,nodefilterLinkId:c.nodefilterLinkId},I=!0;c.paging()&&(x.page=d,x.max=c.pagingMax(),x.inlinepaging=!0,0!=d&&(I=!1,d=document.createElement("tbody"),jQuery("#"+c.tableElem()).append(d),e=d,g=!0,x.view="tableContent"));
c.maxShown()&&(x.maxShown=c.maxShown());I&&(I=document.createElement("div"),jQuery("#"+c.elem()).empty().append(I),e=I);b=Object.extend(x,b);if("localnode"==c.emptyMode()&&!c.filter())b.localNodeOnly="true";else if("blank"==c.emptyMode()&&!c.filter()){jQuery(e).empty();c.clear();return}x=c.nodeExcludePrecedence();b.nodeExcludePrecedence="string"==typeof x&&"false"===x||"boolean"==typeof x&&!x?"false":"true";c.loading(!0);jQuery(e).load(_genUrl(appLinks.frameworkNodesFragment,b),function(b,a,d){c.loading(!1);
if("success"==a){if(g&&ko.applyBindings(c,jQuery(e)[0]),b=d.getResponseHeader("X-rundeck-data-id"))b=b.split(", "),ko.utils.arrayForEach(b,function(a){(a=loadJsonData(a))&&"nodes"==a.name&&a.content&&ko.mapping.fromJS({allcount:a.content.allcount,total:a.content.total},{},c)})}else"function"==typeof errcallback&&(d.getResponseHeader("X-Rundeck-Error-Message")?c.error(d.getResponseHeader("X-Rundeck-Error-Message")):c.error(d.statusText))})}}}
function OptionEditor(b){var d=this;d.name=ko.observable(b.name);d.bashVarPrefix=b.bashVarPrefix?b.bashVarPrefix:"";d.tobashvar=function(b){return d.bashVarPrefix+"OPTION_"+b.toUpperCase().replace(/[^a-zA-Z0-9_]/g,"_").replace(/[{}$]/,"")};d.bashVarPreview=ko.computed(function(){return d.tobashvar(d.name())})}
(function(b){function d(a,b){return function(c){return C(a.call(this,c),b)}}function g(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function e(){}function c(a){R(a);s(this,a)}function r(a){var b=S(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,k=b.second||0,b=b.millisecond||0;this._input=a;this._milliseconds=+b+1E3*k+6E4*h+36E5*g;this._days=+f+7*e;this._months=+d+12*c;this._data={};this._bubble()}function s(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function E(a){return 0>a?Math.ceil(a):Math.floor(a)}function C(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function x(a,b,c,d){var e,f,g=b._milliseconds,h=b._days;b=b._months;g&&a._d.setTime(+a._d+g*c);(h||b)&&(e=a.minute(),f=a.hour());h&&a.date(a.date()+h*c);b&&a.month(a.month()+b*c);g&&!d&&q.updateOffset(a);(h||b)&&(a.minute(e),a.hour(f))}function I(a){return"[object Array]"===
Object.prototype.toString.call(a)}function O(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function a(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=ua[a]||va[b]||b}return a}function S(b){var c,d,e={};for(d in b)b.hasOwnProperty(d)&&(c=a(d),c&&(e[c]=b[d]));return e}function G(a){var c,d;if(0===a.indexOf("week"))c=7,d="day";else{if(0!==a.indexOf("month"))return;c=12;d="month"}q[a]=function(e,
f){var g,h,k=q.fn._lang[a],l=[];if("number"==typeof e&&(f=e,e=b),h=function(a){a=q().utc().set(d,a);return k.call(q.fn._lang,a,e||"")},null!=f)return h(f);for(g=0;c>g;g++)l.push(h(g));return l}}function u(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function V(a){return 0===a%4&&0!==a%100||0===a%400}function R(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[N]||11<a._a[N]?N:1>a._a[Q]||a._a[Q]>(new Date(Date.UTC(a._a[K],a._a[N]+1,0))).getUTCDate()?Q:0>a._a[T]||23<
a._a[T]?T:0>a._a[aa]||59<a._a[aa]?aa:0>a._a[ca]||59<a._a[ca]?ca:0>a._a[da]||999<a._a[da]?da:-1,a._pf._overflowDayOfYear&&(K>b||b>Q)&&(b=Q),a._pf.overflow=b)}function h(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function D(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,
a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function n(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){var b,c,d,e,f=0,g=function(a){if(!ba[a]&&ja)try{require("./lang/"+a)}catch(b){}return ba[a]};if(!a)return q.fn._lang;if(!I(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){e=n(a[f]).split("-");b=e.length;for(d=(d=n(a[f+1]))?d.split("-"):null;0<b;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&O(e,d,!0)>=b-1)break;
b--}f++}return q.fn._lang}function v(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function m(a){var b,c,d=a.match(ka);b=0;for(c=d.length;c>b;b++)d[b]=Z[d[b]]?Z[d[b]]:v(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function k(a,b){return a.isValid()?(b=l(b,a.lang()),fa[b]||(fa[b]=m(b)),fa[b](a)):a.lang().invalidDate()}function l(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(ea.lastIndex=0;0<=d&&
ea.test(a);)a=a.replace(ea,c),ea.lastIndex=0,--d;return a}function f(a,b){switch(a){case "DDDD":return wa;case "YYYY":case "GGGG":case "gggg":return xa;case "YYYYY":case "GGGGG":case "ggggg":return ya;case "S":case "SS":case "SSS":case "DDD":return za;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Aa;case "a":case "A":return t(b._l)._meridiemParse;case "X":return Ba;case "Z":case "ZZ":return ga;case "T":return Ca;case "SSSS":return Da;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "ww":case "W":case "WW":case "e":case "E":return Ea;
default:var c=RegExp,d;d=U(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(d)}}function p(a){a=((ga.exec(a)||[])[0]+"").match(Fa)||["-",0,0];var b=+(60*a[1])+u(a[2]);return"+"===a[0]?-b:b}function J(a){var b,c,d,e,f,g,h,k,l,m=[];if(!a._d){c=F(a);a._w&&null==a._a[Q]&&null==a._a[N]&&(e=function(b){return b?3>b.length?68<parseInt(b,10)?"19"+b:"20"+b:b:null==a._a[K]?q().weekYear():a._a[K]},f=a._w,null!=f.GG||null!=f.W||null!=f.E?g=z(e(f.GG),f.W||1,f.E,4,1):(h=t(a._l),k=null!=
f.d?P(f.d,h):null!=f.e?parseInt(f.e,10)+h._week.dow:0,l=parseInt(f.w,10)||1,null!=f.d&&k<h._week.dow&&l++,g=z(e(f.gg),l,k,h._week.doy,h._week.dow)),a._a[K]=g.year,a._dayOfYear=g.dayOfYear);a._dayOfYear&&(d=null==a._a[K]?c[K]:a._a[K],a._dayOfYear>(V(d)?366:365)&&(a._pf._overflowDayOfYear=!0),b=Y(d,0,a._dayOfYear),a._a[N]=b.getUTCMonth(),a._a[Q]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=m[b]=c[b];for(;7>b;b++)a._a[b]=m[b]=null==a._a[b]?2===b?1:0:a._a[b];m[T]+=u((a._tzm||0)/60);m[aa]+=u((a._tzm||
0)%60);a._d=(a._useUTC?Y:y).apply(null,m)}}function F(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function w(a){a._a=[];a._pf.empty=!0;var b,c,d,e,g;b=t(a._l);var h=""+a._i,k=h.length,m=0;d=l(a._f,b).match(ka)||[];for(b=0;b<d.length;b++)if(e=d[b],(c=(f(e,a).exec(h)||[])[0])&&(g=h.substr(0,h.indexOf(c)),0<g.length&&a._pf.unusedInput.push(g),h=h.slice(h.indexOf(c)+c.length),m+=c.length),Z[e]){c?a._pf.empty=!1:a._pf.unusedTokens.push(e);
var n=a,r=void 0,s=n._a;switch(e){case "M":case "MM":null!=c&&(s[N]=u(c)-1);break;case "MMM":case "MMMM":r=t(n._l).monthsParse(c);null!=r?s[N]=r:n._pf.invalidMonth=c;break;case "D":case "DD":null!=c&&(s[Q]=u(c));break;case "DDD":case "DDDD":null!=c&&(n._dayOfYear=u(c));break;case "YY":s[K]=u(c)+(68<u(c)?1900:2E3);break;case "YYYY":case "YYYYY":s[K]=u(c);break;case "a":case "A":n._isPm=t(n._l).isPM(c);break;case "H":case "HH":case "h":case "hh":s[T]=u(c);break;case "m":case "mm":s[aa]=u(c);break;case "s":case "ss":s[ca]=
u(c);break;case "S":case "SS":case "SSS":case "SSSS":s[da]=u(1E3*("0."+c));break;case "X":n._d=new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":n._useUTC=!0;n._tzm=p(c);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":e=e.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":e=e.substr(0,2),c&&(n._w=n._w||{},n._w[e]=c)}}else a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=k-m;0<h.length&&a._pf.unusedInput.push(h);
a._isPm&&12>a._a[T]&&(a._a[T]+=12);!1===a._isPm&&12===a._a[T]&&(a._a[T]=0);J(a);R(a)}function U(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function y(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return 1970>a&&b.setFullYear(a),b}function Y(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function P(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,
10);return a}function pa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function A(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=q(a).add("d",c),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function z(a,b,c,d,e){var f,g,h=(new Date(Date.UTC(a,0))).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0),g=7*(b-1)+(c-e)+f+1,{year:0<g?a:a-1,dayOfYear:0<g?g:(V(a-1)?366:365)+g}}function M(a){var d=a._i,e=a._f;"undefined"==typeof a._pf&&h(a);if(null===d)a=q.invalid({nullInput:!0});else{"string"==
typeof d&&(a._i=d=t().preparse(d));if(q.isMoment(d))a=s({},d),a._d=new Date(+d._d);else if(e)if(I(e)){var f=a,g,k,l;if(0===f._f.length)f._pf.invalidFormat=!0,f._d=new Date(0/0);else{for(d=0;d<f._f.length;d++)e=0,g=s({},f),h(g),g._f=f._f[d],w(g),D(g)&&(e+=g._pf.charsLeftOver,e+=10*g._pf.unusedTokens.length,g._pf.score=e,(null==l||l>e)&&(l=e,k=g));s(f,k||g)}}else w(a);else if(g=a,k=g._i,l=ra.exec(k),k===b)g._d=new Date;else if(l)g._d=new Date(+l[1]);else if("string"==typeof k)if(l=g._i,f=Ga.exec(l)){g._pf.iso=
!0;for(k=4;0<k;k--)if(f[k]){g._f=Ha[k-1]+(f[6]||" ");break}for(k=0;4>k;k++)if(la[k][1].exec(l)){g._f+=la[k][0];break}ga.exec(l)&&(g._f+="Z");w(g)}else g._d=new Date(l);else I(k)?(g._a=k.slice(0),J(g)):"[object Date]"===Object.prototype.toString.call(k)||k instanceof Date?g._d=new Date(+k):"object"==typeof k?g._d||(f=S(g._i),g._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],J(g)):g._d=new Date(k);a=new c(a)}return a}function H(a,b){q.fn[a]=q.fn[a+"s"]=function(a){var c=this._isUTC?
"UTC":"";return null!=a?(this._d["set"+c+b](a),q.updateOffset(this),this):this._d["get"+c+b]()}}function qa(a){q.duration.fn[a]=function(){return this._data[a]}}function W(a,b){q.duration.fn["as"+a]=function(){return+this/b}}function L(a){var b=!1,c=q;"undefined"==typeof ender&&(this.moment=a?function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)}:q)}for(var q,B,
X=Math.round,K=0,N=1,Q=2,T=3,aa=4,ca=5,da=6,ba={},ja="undefined"!=typeof module&&module.exports,ra=/^\/?Date\((\-?\d+)/i,sa=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ta=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ka=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ea=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,
Ea=/\d\d?/,za=/\d{1,3}/,wa=/\d{3}/,xa=/\d{1,4}/,ya=/[+\-]?\d{1,6}/,Da=/\d+/,Aa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ga=/Z|[\+\-]\d\d:?\d\d/i,Ca=/T/i,Ba=/[\+\-]?\d+(\.\d{1,3})?/,Ga=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,Ha=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],la=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],
["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Fa=/([\+\-]|\d\d)/gi,ha=["Date","Hours","Minutes","Seconds","Milliseconds"],ia={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},ua={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},va={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},
fa={},ma="DDD w W M D d".split(" "),na="MDHhmswW".split(""),Z={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},
W:function(){return this.isoWeek()},YY:function(){return C(this.year()%100,2)},YYYY:function(){return C(this.year(),4)},YYYYY:function(){return C(this.year(),5)},gg:function(){return C(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return C(this.weekYear(),5)},GG:function(){return C(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return C(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},
a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return u(this.milliseconds()/100)},SS:function(){return C(u(this.milliseconds()/10),2)},SSS:function(){return C(this.milliseconds(),3)},SSSS:function(){return C(this.milliseconds(),3)},Z:function(){var a=
-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+C(u(a/60),2)+":"+C(u(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+C(u(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},oa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ma.length;)B=ma.pop(),Z[B+"o"]=g(Z[B],B);for(;na.length;)B=na.pop(),Z[B+B]=d(Z[B],2);Z.DDDD=d(Z.DDD,3);s(e.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==
typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=q.utc([2E3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,
""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;this._weekdaysParse||
(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=q([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",
s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return A(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});q=function(a,c,d,e){return"boolean"==typeof d&&(e=d,d=b),M({_i:a,_f:c,_l:d,_strict:e,_isUTC:!1})};q.utc=function(a,c,d,e){return"boolean"==typeof d&&(e=d,d=b),M({_useUTC:!0,_isUTC:!0,_l:d,_i:a,_f:c,_strict:e}).utc()};q.unix=function(a){return q(1E3*a)};q.duration=function(a,b){var c,d,e,f=q.isDuration(a),g="number"==typeof a,h=f?a._input:
g?{}:a,k=null;return g?b?h[b]=a:h.milliseconds=a:(k=sa.exec(a))?(c="-"===k[1]?-1:1,h={y:0,d:u(k[Q])*c,h:u(k[T])*c,m:u(k[aa])*c,s:u(k[ca])*c,ms:u(k[da])*c}):(k=ta.exec(a))&&(c="-"===k[1]?-1:1,e=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*c},h={y:e(k[2]),M:e(k[3]),d:e(k[4]),h:e(k[5]),m:e(k[6]),s:e(k[7]),w:e(k[8])}),d=new r(h),f&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d};q.version="2.4.0";q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.updateOffset=function(){};q.lang=function(a,
b){var c,d;a?(b?(d=n(a),b.abbr=d,ba[d]||(ba[d]=new e),ba[d].set(b)):null===b?(delete ba[a],a="en"):ba[a]||t(a),d=(c=q.duration.fn._lang=q.fn._lang=t(a),c._abbr)):d=q.fn._lang._abbr;return d};q.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),t(a)};q.isMoment=function(a){return a instanceof c};q.isDuration=function(a){return a instanceof r};for(B=oa.length-1;0<=B;--B)G(oa[B]);q.normalizeUnits=function(b){return a(b)};q.invalid=function(a){var b=q.utc(0/0);return null!=a?s(b._pf,
a):b._pf.userInvalidated=!0,b};q.parseZone=function(a){return q(a).parseZone()};s(q.fn=c.prototype,{clone:function(){return q(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return k(q(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),
this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return D(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<O(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!1},parsingFlags:function(){return s({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=k(this,a||q.defaultFormat);return this.lang().postformat(a)},
add:function(a,b){var c;return c="string"==typeof a?q.duration(+b,a):q.duration(a,b),x(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?q.duration(+b,a):q.duration(a,b),x(this,c,-1),this},diff:function(b,c,d){var e,f;b=this._isUTC?q(b).zone(this._offset||0):q(b).local();var g=6E4*(this.zone()-b.zone());return c=a(c),"year"===c||"month"===c?(e=432E5*(this.daysInMonth()+b.daysInMonth()),f=12*(this.year()-b.year())+(this.month()-b.month()),f+=(this-q(this).startOf("month")-(b-
q(b).startOf("month")))/e,f-=6E4*(this.zone()-q(this).startOf("month").zone()-(b.zone()-q(b).startOf("month").zone()))/e,"year"===c&&(f/=12)):(e=this-b,f="second"===c?e/1E3:"minute"===c?e/6E4:"hour"===c?e/36E5:"day"===c?(e-g)/864E5:"week"===c?(e-g)/6048E5:e),d?f:E(f)},from:function(a,b){return q.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(q(),a)},calendar:function(){var a=this.diff(q().zone(this.zone()).startOf("day"),"days",!0),a=-6>a?"sameElse":
-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return V(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=P(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),
"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),q.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(b){switch(b=a(b)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===b?this.weekday(0):"isoWeek"===b&&this.isoWeekday(1),this},endOf:function(b){return b=
a(b),this.startOf(b).add("isoWeek"===b?"week":b,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+q(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+q(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+q(a).startOf(b)},min:function(a){return a=q.apply(null,arguments),this>a?this:a},max:function(a){return a=q.apply(null,
arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=p(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&x(this,q.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?q(a).zone():
0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=X((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=A(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=A(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);
return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=A(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(b){return b=a(b),this[b]()},set:function(b,c){return b=a(b),"function"==typeof this[b]&&this[b](c),this},lang:function(a){return a===b?this._lang:(this._lang=t(a),this)}});for(B=0;B<
ha.length;B++)H(ha[B].toLowerCase().replace(/s$/,""),ha[B]);H("year","FullYear");q.fn.days=q.fn.day;q.fn.months=q.fn.month;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.fn.toJSON=q.fn.toISOString;s(q.duration.fn=r.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var c=this._months,d=this._data;d.milliseconds=a%1E3;a=E(a/1E3);d.seconds=a%60;a=E(a/60);d.minutes=a%60;a=E(a/60);d.hours=a%24;b+=E(a/24);d.days=b%30;c+=E(b/30);d.months=c%12;b=E(c/12);d.years=b},weeks:function(){return E(this.days()/
7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*u(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=X(Math.abs(b)/1E3),f=X(e/60),g=X(f/60),h=X(g/24),k=X(h/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===g&&["h"]||22>g&&["hh",g]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",X(h/30)]||1===k&&["y"]||["yy",k];c=(e[2]=c,e[3]=0<b,e[4]=d,pa.apply({},e));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},
add:function(a,b){var c=q.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=q.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(b){return b=a(b),this[b.toLowerCase()+"s"]()},as:function(b){return b=a(b),this["as"+b.charAt(0).toUpperCase()+b.slice(1)+"s"]()},lang:q.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),
b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(B in ia)ia.hasOwnProperty(B)&&(W(B,ia[B]),qa(B.toLowerCase()));W("Weeks",6048E5);q.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};q.lang("en",
{ordinal:function(a){var b=a%10,b=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});ja?(module.exports=q,L(!0)):"function"==typeof define&&define.amd?define("moment",function(a,c,d){return!0!==d.config().noGlobal&&L(d.config().noGlobal===b),q}):L()}).call(this);
var MomentUtil=function(){var b={duration:function(b,g){return(g?moment(g):moment()).diff(moment(b))},formatTime:function(b,g){var e=moment(b);return b&&e.isValid()?e.format(g):""},formatTimeSimple:function(d){return b.formatTime(d,"h:mm:ss a")},formatTimeAtDate:function(b){var g=moment(b);if(!b||!g.isValid())return"";b=moment();var e=b.diff(g),e=moment.duration(e);return 1>e.asDays()&&b.month()==g.month()?g.format("h:mm a"):1>e.asDays()&&b.month()!=g.month()?g.format("h:mm a"):1>e.asWeeks()?g.format("ddd h:mm a"):
g.year()!=b.year()?g.format("MMM do YYYY h a"):g.format("M/d ha")},formatDurationSimple:function(b){if(0>b)return"";b=moment.duration(b);var g=0;1<=b.asYears()&&(g=Math.floor(b.asYears()),b=b.subtract(g,"years"));var e=0;1<=b.asDays()&&(e=Math.floor(b.asDays()),b=b.subtract(e,"days"));var c=b.minutes(),r=b.seconds();return(0<g?g+"y ":"")+(0<e?e+"d ":"")+b.hours()+"."+(10>c?"0"+c:c)+":"+(10>r?"0"+r:r)},formatDurationHumanize:function(b){if(0>b)return"";var g=moment.duration(b),e=[];0<g.days()&&e.push(g.days()+
"d");0<g.hours()&&e.push(g.hours()+"h");0<g.minutes()&&e.push(g.minutes()+"m");0<g.seconds()?(b=g.seconds(),0<g.milliseconds()&&b++,e.push(b+"s")):1E3>b&&e.push("0s");return e.join(" ")},formatDurationMomentHumanize:function(b){return 0>b?"":moment.duration(b).humanize()}};return b}();
function StorageResource(){var b=this;b.meta=ko.observable({});b.wasDownloaded=ko.observable(!1);b.downloadError=ko.observable(null);b.metaValue=function(d){return b.meta()&&b.meta()[d]?b.meta()[d]():null};b.wasModified=ko.computed(function(){return b.meta()&&b.meta()["Rundeck-content-creation-time"]&&b.meta()["Rundeck-content-modify-time"]()?b.meta()["Rundeck-content-creation-time"]()!=b.meta()["Rundeck-content-modify-time"]():!1});b.isPrivateKey=ko.computed(function(){return b.meta()&&b.meta()["Rundeck-key-type"]&&
"private"==b.meta()["Rundeck-key-type"]()?!0:!1});b.isPublicKey=ko.computed(function(){return b.meta()&&b.meta()["Rundeck-key-type"]&&"public"==b.meta()["Rundeck-key-type"]()?!0:!1});b.isPassword=ko.computed(function(){return b.meta()&&b.meta()["Rundeck-data-type"]&&"password"==b.meta()["Rundeck-data-type"]()?!0:!1});b.contentSize=ko.computed(function(){return b.meta()&&b.meta()["Rundeck-content-size"]&&b.meta()["Rundeck-content-size"]()?b.meta()["Rundeck-content-size"]():""});b.createdUsername=ko.computed(function(){return b.meta()&&
b.meta()["Rundeck-auth-created-username"]&&b.meta()["Rundeck-auth-created-username"]()?b.meta()["Rundeck-auth-created-username"]():""});b.createdTime=ko.computed(function(){var d="";b.meta()&&b.meta()["Rundeck-content-creation-time"]&&b.meta()["Rundeck-content-creation-time"]()&&(d=MomentUtil.formatTimeAtDate(b.meta()["Rundeck-content-creation-time"]()));return d});b.modifiedTime=ko.computed(function(){var d="";b.meta()&&b.meta()["Rundeck-content-modify-time"]&&b.meta()["Rundeck-content-modify-time"]()&&
(d=MomentUtil.formatTimeAtDate(b.meta()["Rundeck-content-modify-time"]()));return d});b.modifiedTimeAgoText=ko.computed(function(){var d="";b.meta()&&b.meta()["Rundeck-content-modify-time"]&&b.meta()["Rundeck-content-modify-time"]()&&(d=b.meta()["Rundeck-content-modify-time"](),d=MomentUtil.formatDurationHumanize(MomentUtil.duration(d)));return d});b.modifiedUsername=ko.computed(function(){return b.meta()&&b.meta()["Rundeck-auth-modified-username"]&&b.meta()["Rundeck-auth-modified-username"]()?b.meta()["Rundeck-auth-modified-username"]():
""});b.modifiedTimeAgo=function(d){var g=b.modifiedTimeAgoText();return g?g+" "+d:""}}function StorageDir(b,d,g){var e=this;e.load=function(){b.loadDir(e.name())}}
function StorageUpload(b){var d=this;d.storage=b;d.modifyMode=ko.observable(!1);d.keyType=ko.observable("private");d.inputType=ko.observable("text");d.file=ko.observable("");d.textArea=ko.observable("");d.password=ko.observable("");d.fileName=ko.observable("");d.fileInputName=ko.computed(function(){var b=d.file();return b?0<=b.lastIndexOf("/")?b.substring(b.lastIndexOf("/")+1):0<=b.lastIndexOf("\\")?b.substring(b.lastIndexOf("\\")+1):b:""});d.validInput=ko.computed(function(){var b=d.inputType(),
e=d.file(),c=d.textArea(),r=d.password();return"text"==b?c||r?!0:!1:e?!0:!1});d.inputFullpath=ko.computed(function(){var b=d.fileName(),e=d.fileInputName(),c=d.storage.absolutePath(d.storage.inputPath());return(c?c.lastIndexOf("/")==c.length-1?c:c+"/":"")+(b?b:e)});d.inputType.subscribe(function(b){"text"==b?d.file(""):(d.textArea(""),d.password(""))});d.keyType.subscribe(function(b){"password"==b?(d.textArea(""),d.inputType("text")):d.password("")})}
function StorageBrowser(b,d,g){var e=this;e.baseUrl=b;e.fileSelect=g;e.rootPath=ko.observable(d);e.staticRoot=ko.observable(!1);e.errorMsg=ko.observable();e.path=ko.observable("");e.inputPath=ko.observable("");e.selectedPath=ko.observable();e.selectedResource=ko.observable();e.selectedIsDownloadable=ko.observable(!1);e.fileFilter=ko.observable();e.fieldTarget=ko.observable();e.resources=ko.observableArray([]);e.loading=ko.observable(!1);e.invalid=ko.observable(!1);e.browseMode=ko.observable("browse");
e.allowUpload=ko.observable(!1);e.allowSelection=ko.observable(!0);e.allowNotFound=ko.observable(!1);e.notFound=ko.observable(!1);e.files=ko.computed(function(){return ko.utils.arrayFilter(e.resources(),function(b){return"file"==b.type()}).sort(function(b,d){return b.path()==d.path()?0:b.path()<d.path()?-1:1})});e.filteredFiles=ko.computed(function(){return ko.utils.arrayFilter(e.files(),function(b){if(e.fileFilter()){var d=e.fileFilter().split("=");if(1<d.length){var g=d[1];return b.metaValue(d[0])==
g}}return!0})});e.directories=ko.computed(function(){return ko.utils.arrayFilter(e.resources(),function(b){return"directory"==b.type()}).sort(function(b,d){return b.path()==d.path()?0:b.path()<d.path()?-1:1})});e.selectedPathUrl=ko.computed(function(){return _genUrl(appLinks.storageKeysBrowse,{resourcePath:e.selectedPath()})});e.cleanPath=function(b){if(null!=b)for(;0==b.indexOf("/");)b=b.substring(1);else return"";return b};e.relativePath=function(b){var d=e.rootPath();if(!e.staticRoot())return b;
var g="";b&&d&&(b=e.cleanPath(b),g=e.cleanPath(b.substring(d.length)));return g};e.absolutePath=function(b){var d=e.rootPath();return e.staticRoot()?d+"/"+b:b};e.dirNameString=function(b){return 0<=b.lastIndexOf("/")?b.substring(b.lastIndexOf("/")+1):b};e.parentDirString=function(b){return null!=b&&0<=b.lastIndexOf("/")?b.substring(0,b.lastIndexOf("/")):""};e.dirName=function(b){return"string"==typeof b?e.dirNameString(b):"directory"==b.type()?e.dirNameString(b.path()):b.name()};e.upPath=ko.computed(function(){return e.path()!=
e.rootPath()&&e.path()!=e.rootPath()+"/"?0<=e.path().indexOf("/")?e.path().substring(0,e.path().lastIndexOf("/")):e.rootPath():null});e.loadDir=function(b){var d="string"==typeof b?b:b.path();b!=e.path()&&e.selectedPath(null);e.path(d)};e.initialLoad=function(){e.path(e.rootPath())};e.selectFile=function(b){if(e.allowSelection()){var d=!1;e.selectedPath()==b.path()?(e.selectedPath(null),e.selectedResource(null)):(e.selectedPath(b.path()),e.selectedResource(b),d="private"!=b.metaValue("Rundeck-key-type")&&
"password"!=b.metaValue("Rundeck-data-type"));e.selectedIsDownloadable(d)}};e.actionUploadModify=function(){e.selectedResource()&&(e.upload.fileName(e.selectedResource().name()),e.inputPath(e.relativePath(e.parentDirString(e.selectedResource().path()))),e.upload.keyType(e.selectedResource().isPrivateKey()?"private":e.selectedResource().isPublicKey()?"public":"password"),e.upload.modifyMode(!0),jQuery("#storageuploadkey").modal("show"))};e.actionUpload=function(){e.upload.modifyMode(!1);e.upload.fileName("");
jQuery("#storageuploadkey").modal("show")};e.actionLoadContents=function(b,d){e.selectedResource()&&e.selectedResource().isPublicKey()&&(jQuery(d).button("loading"),jQuery.ajax({url:_genUrl(appLinks.storageKeysDownload,{relativePath:e.relativePath(e.selectedPath())}),success:function(g,E){jQuery(d).button("reset");var C=jQuery("#"+b);setText(C[0],g);e.selectedResource().wasDownloaded(!0)},error:function(b,c,g){jQuery(d).button("reset");e.selectedResource().downloadError(g+" : "+b.responseText)}}))};
e.download=function(){e.selectedPath()&&(document.location=_genUrl(appLinks.storageKeysDownload,{relativePath:e.relativePath(e.selectedPath())}))};e.delete=function(){e.selectedPath()&&jQuery.ajax({dataType:"json",method:"post",url:_genUrl(appLinks.storageKeysDelete,{relativePath:e.relativePath(e.selectedPath())}),beforeSend:_ajaxSendTokens.curry("storage_browser_token"),data:{},success:function(b,d,g){e.selectedPath(null);e.loadPath(e.path())},error:function(b,d,g){e.loading(!1);404==b.status?e.pathNotFound(val):
b.responseJSON&&b.responseJSON.message?e.errorMsg(b.responseJSON.message):e.errorMsg(d+": "+g)}}).success(_ajaxReceiveTokens.curry("storage_browser_token"))};e.browseToInputPath=function(){e.path(e.absolutePath(e.inputPath()))};e.pathNotFound=function(b){e.notFound(!0);e.allowNotFound()?(e.resources([]),e.selectedPath(null),e.inputPath(e.relativePath(b))):(e.invalid(!0),e.errorMsg("Path not found: "+b))};e.loadPath=function(b){var d={resources:{key:function(b){return ko.utils.unwrapObservable(b.path)},
create:function(b){var c=new StorageResource;return ko.mapping.fromJS(b.data,{},c)}}};e.loading(!0);e.inputPath(e.relativePath(b));jQuery.ajax({dataType:"json",url:_genUrl(e.baseUrl,{relativePath:e.relativePath(b)}),data:{},success:function(g,E,C){e.loading(!1);"file"==g.type?(e.selectedPath(b),e.inputPath(e.relativePath(e.parentDirString(b))),e.browseToInputPath()):(e.errorMsg(null),e.invalid(!1),e.notFound(!1),g.resources||(g.resources=[]),ko.mapping.fromJS(g,d,e),e.selectedPath()&&((g=ko.utils.arrayFirst(e.resources(),
function(b){return b.path()==e.selectedPath()}))?(e.selectedPath(null),e.selectFile(g)):e.selectedPath(null)))},error:function(d,g,r){e.loading(!1);404==d.status?e.pathNotFound(b):e.errorMsg(g+": "+r)}})};e.path.subscribe(function(b){e.loadPath(b)});e.selectedResource.subscribe(function(b){b&&b.wasDownloaded(!1)},null,"beforeChange");e.browse=function(b,d,g){b&&e.rootPath(e.cleanPath(b));d?e.fileFilter(d):e.fileFilter(null);g?(b=e.cleanPath(g),e.selectedPath(b),e.path(e.parentDirString(b))):e.initialLoad()};
e.pathInRoot=ko.computed(function(){e.rootPath();e.staticRoot();var b=e.path();return e.relativePath(b)});e.selectedPathInRoot=ko.computed(function(){e.rootPath();e.staticRoot();var b=e.selectedPath();return e.relativePath(b)});e.upload=new StorageUpload(e)};